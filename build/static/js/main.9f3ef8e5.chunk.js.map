{"version":3,"sources":["config/menu.js","components/library/Navigator.js","config/server.js","redux/actions-request-status.js","redux/actions-backoffice.js","utils/utilFunctions.js","models/product.js","components/library/tableGrid/TableGrid.js","components/pages/backoffice/ProductDetail.js","config/crudConstants.js","components/pages/backoffice/Backoffice.js","redux/actions-cash.js","components/pages/cash/EditDetail.js","components/pages/cash/Check.js","components/pages/cash/Cash.js","redux/actions-report.js","components/pages/report/Report.js","components/pages/retail/Retail.js","App.js","reportWebVitals.js","redux/reducer-cash.js","redux/reducer-backoffice.js","redux/reducer-report.js","redux/reducer-request-status.js","redux/store.js","index.js","components/pages/cash/Check.module.css","components/pages/cash/Cash.module.css","components/library/tableGrid/TableGrid.module.css","components/pages/retail/Retail.module.css","components/pages/backoffice/Backoffice.module.css","components/pages/backoffice/ProductDetail.module.css"],"names":["PATH_CASH","PATH_BACKOFFICE","PATH_REPORTS","ITEMS","path","label","Navigator","map","item","index","Link","component","NavLink","exact","to","style","margin","URL","URL_PATH_PRODUCT","URL_PATH_CHECK","URL_PATH_CASH","REQUEST_SENT","REQUEST_SUCCEEDED","REQUEST_FAILED","REQUEST_NONE","setRequestStatusToSent","type","setRequestStatusToSucceeded","infoString","payload","setRequestStatusToFailed","errorString","setRequestStatusToNone","SET_BACKOFFICE_PRODUCTS","ADD_PRODUCT","UPDATE_PRODUCT","REMOVE_PRODUCT","SET_BACKOFFICE_CASHES","SET_BACKOFFICE_GROUPS","SET_BACKOFFICE_UNITS","SET_BACKOFFICE_CHECKS","normalizeQuantity","quantity","pieceUnit","parseInt","parseFloat","normalizeStringQuantity","toFixed","normalizeStringSum","sum","Math","round","toLocaleString","currency","product","TableGrid","datasource","needBtn","onBtnClickCallback","columns","length","className","classes","header","headerArr","i","push","width","headerItem","headerName","obj","key","Object","keys","headerBtn","wrapper","body","bodyLine","bodyArr","textAlign","bodyItem","field","split","f","value","formattedValue","formatField","join","bodyBtn","onClick","ProductDetail","detail","closeHandler","useDispatch","useState","setProduct","errorBarcode","setErrorBarcode","errorName","setErrorName","groups","useSelector","state","backoffice","units","ADD_MODE","requestStatus","refBarcode","useRef","refName","onChangeHandler","target","id","checked","modalBackground","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","message","modal","headerWrapper","TextField","ref","error","required","variant","onChange","disabled","inputWrapper","name","FormControl","InputLabel","Select","labelId","groupId","groupName","find","v","MenuItem","price","tax","remainder","unitId","unit","unitName","manufacturer","country","Button","color","okOnClickHandler","disableElevation","Backoffice","prodSearchString","setProdSearchString","show","productDetail","setProductDetail","dispatch","cashes","products","checks","useEffect","a","RequestStatusActions","Axios","get","then","response","data","catch","err","console","request","status","resonse","onBodyBtnClickHandler","newProduct","removedProductId","updatedProduct","put","delete","post","log","wrapBackoffice","wrapProducts","wrapProductsControl","event","searchString","wrapGroups","wrapUnits","SET_CASH_PRODUCTS","SET_CASH_INFO","SAVE_CASH_CHECK","ADD_CASH_DETAIL","DELETE_CASH_DETAIL","UPDATE_CASH_DETAIL","CLEAR_CASH_DETAILS","EditDetail","setQuantity","setPrice","onBlur","normQuality","floor","Check","check","details","checkId","cash","cashInfo","modalWrapper","modalWindow","checkWrapper","info","substr","replace","detailWrapper","spanDetailId","spanDetailName","spanDetailPrice","spanDetailQuantity","spanDetailSum","detailsWrapper","spanTotal","spanVAT","reduce","v1","v2","Cash","bar","setBar","getEmptyProduct","editDetail","setEditDetail","showCheck","setShowCheck","prods","divRef","addOnClickHandler","productFromScan","prod","normQuantity","Actions","totalOnCancelHandler","totalOnClickHandler","totalSum","p","c","calcTotal","cashId","detailsToCheck","d","productDto","String","dateTime","current","scrollIntoView","checkwrapper","infowrapper","headerwrapper","gridwrapper","gridrowwrapper","controlwrapper","inputwrapper","maxRange","random","scanOnClickHandler","productinfo","barCodeOnClickHandler","display","totalwrapper","cancelwrapper","SET_REPORT_SALES_DATA","SET_REPORT_GROUP_SALES_DATA","SET_DATE_FROM","SET_DATE_TO","getSalesReportData","from","axios","salesReportData","dir","getGroupSalesReportData","getData","chartData","x","stringDate","y","MyChart","axes","primary","position","Report","salesChartData","report","sales","groupSalesData","groupSales","marginTop","backgroundColor","e","height","justifyContent","alignItems","CircularProgress","gr","Retail","history","mrgntop30px","cursorPointer","Menu","href","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","fromDate","Date","setMonth","getMonth","toISOString","reducers","combineReducers","cashState","action","slice","newDetails","splice","findIndex","newProducts","actions","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","module","exports"],"mappings":"wUACaA,EAAY,QACZC,EAAkB,cAClBC,EAAe,WACfC,EAAQ,CACjB,CAACC,KAAMJ,EAAWK,MAAO,OACzB,CAACD,KAAMH,EAAiBI,MAAO,cAC/B,CAACD,KAAMF,EAAcG,MAAO,WAC5B,CAACD,KARsB,IAQHC,MAAO,U,uBCOhBC,EATG,WAKd,OAAO,8BAHIH,EAAMI,KAAI,SAACC,EAAMC,GAAP,OACjB,cAACC,EAAA,EAAD,CAAMC,UAAWC,IAASC,OAAK,EAACC,GAAIN,EAAKJ,KAAkBW,MAAO,CAACC,OAAQ,IAA3E,SAAiFR,EAAKH,OAAlCI,S,0DCR/CQ,EAAI,yCACJC,EAAiB,UACjBC,EAAe,QACfC,EAAc,gB,iBCJdC,EAAe,wBACfC,EAAoB,6BACpBC,EAAiB,0BACjBC,EAAe,wBACrB,SAASC,IACZ,MAAO,CAACC,KAAML,GAEX,SAASM,EAA4BC,GACxC,MAAO,CAACF,KAAMJ,EAAmBO,QAASD,GAEvC,SAASE,EAAyBC,GACrC,MAAO,CAACL,KAAMH,EAAgBM,QAASE,GAEpC,SAASC,EAAuBJ,GACnC,MAAO,CAACF,KAAMF,EAAcK,QAASD,GCVlC,IAAMK,EAA0B,4BAC1BC,EAA0B,2BAC1BC,EAA0B,8BAC1BC,EAA0B,8BAC1BC,EAA0B,0BAC1BC,EAA0B,0BAC1BC,EAA0B,yBAC1BC,EAA0B,0BCXhC,SAASC,EAAmBC,EAAUC,GACzC,OAAOA,EAAUC,SAASF,GAAUG,WAAWH,GAE5C,SAASI,EAAyBJ,EAAUC,GAC/C,OAAOA,EAAUC,SAASF,GAAUK,QAAQ,GAAGF,WAAWH,GAAUK,QAAQ,GAKzE,SAASC,EAAoBC,GAChC,OAAQC,KAAKC,MAAU,IAAJF,GAAS,KAAKG,eAAe,QAAS,CAAErC,MAAO,WAAYsC,SAAU,Q,qCCTtFC,EAAU,CACZ,GAAK,GACL,KAAO,GACP,QAAU,GACV,UAAY,GACZ,OAAS,GACT,SAAW,GACX,IAAM,GACN,MAAQ,EACR,UAAY,EACZ,aAAe,GACf,QAAU,GACV,WAAY,G,6BCmFDC,GA5FI,SAAC,GAAsD,IAArDC,EAAoD,EAApDA,WAAYC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,mBAAoBC,EAAW,EAAXA,QAc1D,OAC0B,IAAtBH,EAAWI,QAAiBD,EAI5B,qCACI,qBAAKE,UAAWC,IAAQC,OAAxB,SAEQ,WACG,IAAMC,EAAY,GAClB,GAAKL,EAMA,IAAI,IAAIM,EAAE,EAAEA,EAAEN,EAAQC,OAAOK,IACzBD,EAAUE,KAAK,qBAAKnD,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQM,GAAGE,MAAf,OAAmCN,UAAWC,IAAQM,WAAxE,SAAqFT,EAAQM,GAAGI,YAA9CJ,QAP7D,CACT,IAAMK,EAAMd,EAAW,GACvB,IAAI,IAAIe,KAAOD,EACXN,EAAUE,KAAK,qBAAKnD,MAAO,CAACoD,MAAM,GAAD,OAAI,IAAIK,OAAOC,KAAKH,GAAKV,OAAzB,MAAgDC,UAAWC,IAAQM,WAArF,SAAkGG,GAArCA,IAQpF,OADAP,EAAUE,KAAK,qBAAKnD,MAAO,CAACoD,MAAM,GAAD,OAhChC,IAgCqCV,EAjCxC,GAiCyD,GAAtB,OAAkEI,UAAWC,IAAQY,UAAvG,iBAAkEV,EAAUJ,SACpFI,EAbV,KAiBZ,qBAAKH,UAAWC,IAAQa,QAAxB,SACI,qBAAKd,UAAWC,IAAQc,KAAxB,SAEQpB,EAAWjD,KAAI,SAAC+D,EAAKL,GAAN,OACX,qBAAaJ,UAAWC,IAAQe,SAAhC,SACK,WACE,IAAMC,EAAU,GAChB,GAAKnB,EAQA,IADE,IAAD,WACOM,GACJa,EAAQZ,KAAK,qBAAKnD,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQM,GAAGE,MAAf,MAAyBY,UAAU,GAAD,OAAsB,WAAlBpB,EAAQM,GAAGvC,KAAgB,QAAQ,SAChGmC,UAAWC,IAAQkB,SADd,SAIcrB,EAAQM,GAAGgB,MAAMC,MAAM,KACjB3E,KAAI,SAAA4E,GAAC,OAxD1E,SAAqBC,GACjB,IAAMC,EAAiBD,EACvB,cAAcA,GACV,IAAK,UACa,8BAAdC,GAA2B,IAAVD,EAAiB,MAAM,KAGhD,OAAOC,EAiDiEC,CAAYhB,EAAIa,OAAKI,KAAK,MALsDtB,KADpHA,EAAE,EAAGA,EAAEN,EAAQC,OAAOK,IAAK,EAA3BA,QAPR,IAAI,IAAIM,KAAOD,EACXQ,EAAQZ,KAAK,qBAAKnD,MAAO,CAACoD,MAAM,GAAD,OAAI,IAAIK,OAAOC,KAAKH,GAAKV,OAAzB,MACvBC,UAAWC,IAAQkB,SADd,SAEY,mBAAbV,EAAIC,IAA+B,IAAXD,EAAIC,GAAY,MAAM,KAAMD,EAAIC,IAFMA,IAyBnF,OANKd,GACAqB,EAAQZ,KAAK,wBAAQnD,MAAO,CAACoD,MAAM,GAAD,OAnEjD,GAmEiD,OACtBN,UAAWC,IAAQ0B,QAASC,QAAS,WAAK/B,EAAmBY,EAAIL,IADhE,gBAA6Ca,EAAQlB,SAKhEkB,EA7BT,IADKb,aA1B1B,yD,6ECLO,SAASyB,GAAT,GAAsD,IAA9BC,EAA6B,EAA7BA,OAAQlF,EAAqB,EAArBA,MAAOmF,EAAc,EAAdA,aAAc,GAC/CC,cACaC,mBAAS,gBAAIH,KAFqB,mBAEzDrC,EAFyD,KAEhDyC,EAFgD,OAGxBD,oBAAS,GAHe,mBAGzDE,EAHyD,KAG3CC,EAH2C,OAI9BH,oBAAS,GAJqB,mBAIzDI,EAJyD,KAI9CC,EAJ8C,KAK1DC,EAASC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAWH,UAC7CI,EAAQH,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAWC,SAE5CC,GADgBJ,aAAY,SAAAC,GAAK,OAAEA,EAAMI,kBCtBhC,IDuBEjG,GACXkG,EAAaC,iBAAO,MACpBC,EAAUD,iBAAO,MAEjBE,EAAgB,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAF,OAAYhB,EAAW,6BAAIzC,GAAL,mBAAeyD,EAAOC,GAAkB,aAAdD,EAAOrF,KAAkBqF,EAAOE,QAAQF,EAAO3B,UAmBrH,OACI,sBAAKvB,UAAWC,KAAQoD,gBAAxB,UAEI,cAACC,EAAA,EAAD,CAAUC,aAAc,CAAEC,SAAS,MAAOC,WAAW,QAAUC,KAAMvB,EAAcwB,iBAAkB,IAAMC,QAAS,kBAAIxB,GAAgB,IAAQyB,QAAQ,qBACxJ,cAACP,EAAA,EAAD,CAAUC,aAAc,CAAEC,SAAS,MAAOC,WAAW,QAAUC,KAAMrB,EAAWsB,iBAAkB,IAAMC,QAAS,kBAAItB,GAAa,IAAQuB,QAAQ,kBAElJ,sBAAK7D,UAAWC,KAAQ6D,MAAxB,UACI,qBAAK9D,UAAWC,KAAQ8D,cAAxB,SACI,cAACC,EAAA,EAAD,CAAWnG,KAAK,OAAOoG,IAAKnB,EAAYoB,OAAOzE,EAAQ0D,GAAegB,UAAQ,EAAC3H,MAAM,UAAU4H,QAAQ,WAAWjB,GAAG,KAAK5B,MAAO9B,EAAQ0D,GACrIkB,SAAUpB,EAAiBqB,UAAW1B,MAE9C,sBAAK5C,UAAWC,KAAQsE,aAAxB,UACI,cAACP,EAAA,EAAD,CAAWnG,KAAK,OAAOoG,IAAKjB,EAASkB,OAAOzE,EAAQ+E,KAAiBL,UAAQ,EAAC3H,MAAM,OAAO4H,QAAQ,WAAWjB,GAAG,OAAO5B,MAAO9B,EAAQ+E,KACnIH,SAAUpB,IAEd,eAACwB,GAAA,EAAD,CAAaN,UAAQ,EAArB,UACI,cAACO,GAAA,EAAD,CAAYvB,GAAG,qBAAf,mBACA,eAACwB,GAAA,EAAD,CAAQC,QAAQ,qBAAqBzB,GAAG,eAAe5B,MAAO9B,EAAQoF,QACtER,SAAU,YAAa,IAAXnB,EAAU,EAAVA,OAAWhB,EAAW,6BAAIzC,GAAL,IAAcoF,QAAQ3B,EAAO3B,MAAOuD,UAAUvC,EAAOwC,MAAK,SAAAC,GAAC,OAAEA,EAAE7B,KAAKD,EAAO3B,SAAOiD,SADnH,gBAEKjC,EAAO7F,KAAI,SAACsI,EAAE5E,GAAH,OAAO,cAAC6E,GAAA,EAAD,CAAkB1D,MAAOyD,EAAE7B,GAA3B,SAAgC6B,EAAER,MAAnBpE,YAG1C,cAAC4D,EAAA,EAAD,CAAWnG,KAAK,SAASsG,UAAQ,EAAC3H,MAAM,QAAQ4H,QAAQ,WAAWjB,GAAG,QAAQ5B,MAAO9B,EAAQyF,MACzFb,SAAUpB,IAEd,cAACe,EAAA,EAAD,CAAWnG,KAAK,SAASsG,UAAQ,EAAC3H,MAAM,SAAS4H,QAAQ,WAAWjB,GAAG,MAAM5B,MAAO9B,EAAQ0F,IACxFd,SAAUpB,IACd,cAACe,EAAA,EAAD,CAAWnG,KAAK,SAASsG,UAAQ,EAAC3H,MAAM,YAAY4H,QAAQ,WAAWjB,GAAG,YAAY5B,MAAO9B,EAAQ2F,UACjGf,SAAUpB,IACd,eAACwB,GAAA,EAAD,CAAaN,UAAQ,EAArB,UACI,cAACO,GAAA,EAAD,CAAYvB,GAAG,oBAAf,kBACA,eAACwB,GAAA,EAAD,CAAQC,QAAQ,oBAAoBzB,GAAG,cAAc5B,MAAO9B,EAAQ4F,OACpEhB,SAAU,YAAa,IAAXnB,EAAU,EAAVA,OACFoC,EAAO3C,EAAMoC,MAAK,SAAAC,GAAC,OAAEA,EAAE7B,KAAKD,EAAO3B,SACzCW,EAAW,6BAAIzC,GAAL,IAAc4F,OAAOnC,EAAO3B,MAClCgE,SAASD,EAAKd,KACd1F,UAAUwG,EAAKxG,cALvB,gBAQK6D,EAAMjG,KAAI,SAACsI,EAAE5E,GAAH,OAAO,cAAC6E,GAAA,EAAD,CAAkB1D,MAAOyD,EAAE7B,GAA3B,SAAgC6B,EAAER,MAAnBpE,YAGzC,cAAC4D,EAAA,EAAD,CAAWnG,KAAK,OAAOrB,MAAM,eAAe4H,QAAQ,WAAWjB,GAAG,eAAe5B,MAAO9B,EAAQ+F,aAC5FnB,SAAUpB,IACd,cAACe,EAAA,EAAD,CAAWnG,KAAK,OAAOrB,MAAM,UAAU4H,QAAQ,WAAWjB,GAAG,UAAU5B,MAAO9B,EAAQgG,QAClFpB,SAAUpB,OAElB,sBAAKjD,UAAU,gBAAf,UACI,cAAC0F,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,kBAlErE,WACI,GAAKnC,EAAQ+E,KAIb,GAAI5B,EAAS,CACT,IAAKnD,EAAQ0D,GAET,YADAf,GAAgB,GAGpBL,EAActC,GCtCP,QDwCPsC,EAActC,EAAS7C,QAVvB0F,GAAa,GAgEoDsD,IAAoBC,kBAAgB,EAA7F,SACKjD,EAAW,MAAO,OAEvB,cAAC8C,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,WAtDpCG,EAAa,KAsDmD8D,kBAAgB,EAAjG,SACKjD,EAAW,QAAS,WAExBA,EAAW,6BAAQ,cAAC8C,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,YAAY/D,QAAS,WAxD1DG,EAActC,GC7C7B,IDqGqGoG,kBAAgB,EAAnG,6BEtFxC,IAkGeC,GAlGE,WAAK,IAAD,EAC6B7D,mBAAS,IADtC,mBACV8D,EADU,KACQC,EADR,OAE+B/D,mBAAS,IAFxC,gCAGuBA,mBAAS,CAACgE,MAAK,KAHtC,mBAGVC,EAHU,KAGKC,EAHL,KAKXC,EAAWpE,cAEXO,GADSC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAW2D,UACpC7D,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAWH,WAC7CI,EAAQH,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAWC,SAC5C2D,EAAW9D,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAW4D,YAE/CzD,GADSL,aAAY,SAAAC,GAAK,OAAEA,EAAMC,WAAW6D,UAC7B/D,aAAY,SAAAC,GAAK,OAAEA,EAAMI,kBAE/C2D,qBAAU,WACNJ,EN6HJ,uCAAO,WAAOA,GAAP,SAAAK,EAAA,6DACHL,EAASM,KADN,SAEkBC,IAAMC,IAAN,UAAaxJ,EAAb,YAAoBG,IACpCsJ,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKW,EAAuBR,QAAQ8I,EAASC,OACvDX,EAASM,KACFI,EAASC,QAEnBC,OAAM,SAAAC,GACCA,EAAIH,UACJV,EAASM,EAA8CO,EAAIH,SAASC,OACpEG,QAAQhD,MAAM+C,EAAIH,SAASC,OACrBE,EAAIE,SACVf,EAASM,EAA8CO,EAAIE,QAAQC,SACnEF,QAAQhD,MAAM+C,EAAIE,WAElBf,EAASM,EAA8CO,EAAIpD,UAC3DqD,QAAQhD,MAAM+C,OAjBvB,yDAAP,uDM5HIb,ENmJJ,uCAAO,WAAOA,GAAP,SAAAK,EAAA,6DACHL,EAASM,KADN,SAEkBC,IAAMC,IAAN,UAAaxJ,EAAb,YF9KD,UE+KfyJ,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKY,EAAuBT,QAAQ8I,EAASC,OACvDX,EAASM,KACFI,EAASC,QAEnBC,OAAM,SAAAC,GACCA,EAAIH,UACJV,EAASM,EAA8CO,EAAII,QAAQN,OACnEG,QAAQhD,MAAM+C,EAAIH,SAASC,OACtBE,EAAIE,SACTf,EAASM,EAA8CO,EAAIE,QAAQC,SACnEF,QAAQhD,MAAM+C,EAAIE,WAElBf,EAASM,EAA8CO,EAAIpD,UAC3DqD,QAAQhD,MAAM+C,OAjBvB,yDAAP,uDMlJIb,ENyKJ,uCAAO,WAAOA,GAAP,SAAAK,EAAA,6DACHL,EAASM,KADN,SAEiBC,IAAMC,IAAN,UAAaxJ,EAAb,YFpMD,SEqMdyJ,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKa,EAAsBV,QAAQ8I,EAASC,OACtDX,EAASM,KACFI,EAASC,QAEnBC,OAAM,SAAAC,GACCA,EAAIH,UACJV,EAASM,EAA8CO,EAAIH,SAASC,OACpEG,QAAQhD,MAAM+C,EAAIH,SAASC,OACtBE,EAAIE,SACTf,EAASM,EAA8CO,EAAIE,QAAQC,SACnEF,QAAQhD,MAAM+C,EAAIE,QAAQC,UAE1BhB,EAASM,EAA8CO,EAAIpD,UAC3DqD,QAAQhD,MAAM+C,OAjBvB,yDAAP,yDMxKG,IAEH,IAIMK,EAAwB,SAAC7H,EAAS7C,GACpCuJ,EAAiB,CAACF,MAAK,EAAMxG,UAAS7C,WAuC1C,OACI,qCACA,cAAC0G,EAAA,EAAD,CAAUC,aAAc,CAAEC,SAAS,MAAOC,WAAW,QACjDC,KAAMb,EAAcA,gBAAgB6D,GAChC7D,EAAcA,gBAAgB6D,GACH,KAA3B7D,EAAc9E,WAElB4F,iBAAkB,IAAMC,QAAS,kBAAIwC,EAASM,MAAgD7C,QAAShB,EAAc9E,aACxHmI,EAAcD,KAAO,cAACpE,GAAD,CAAeC,OAAQoE,EAAczG,QAAS7C,MAAOsJ,EAActJ,MAAOmF,aA7ClE,SAACtC,EAAS7C,GNLzC,IAAoB2K,EAqEGC,EM9DtB,ID1CW,IC0CP5K,EAKJ,GADAuJ,EAAiB,CAACF,MAAK,KD/CT,ICgDVrJ,EAIJ,GAAI6C,EAAQ0D,GACRiD,GNiBkBqB,EMjBahI,ENkBvC,uCAAO,WAAO2G,GAAP,eAAAK,EAAA,6DACG1F,EAAO,CACT,GAAK0G,EAAetE,GACpB,KAAOsE,EAAejD,KACtB,QAAUiD,EAAe5C,QACzB,OAAS4C,EAAepC,OACxB,MAAQoC,EAAevC,MACvB,UAAYuC,EAAerC,UAC3B,IAAMqC,EAAetC,IACrB,aAAesC,EAAejC,aAC9B,QAAUiC,EAAehC,SAE7BW,EAASM,KAZN,SAaoBC,IAAMe,IAAN,UAAatK,EAAb,YAAoBC,GAAmB0D,GACzD8F,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKS,EAAgBN,QAAQyJ,IACvCrB,EAASM,EAAiD,oBACnDI,EAASC,QAEnBC,OAAM,SAAAC,GACCA,EAAIH,UACJV,EAASM,EAAA,uBAA8DO,EAAIH,SAASC,KAAKlD,WACzFqD,QAAQhD,MAAM+C,EAAIH,WACZG,EAAIE,SACVf,EAASM,EAAA,uBAA8DO,EAAIE,QAAQC,UACnFF,QAAQhD,MAAM+C,EAAIE,WAElBf,EAASM,EAAA,uBAA8DO,EAAIpD,WAC3EqD,QAAQhD,MAAM+C,OA5BvB,yDAAP,6DADG,IAAuBQ,OMrBlBrB,GNwDkBoB,EMxDa/H,EAAQ0D,GNyD/C,uCAAO,WAAOiD,GAAP,SAAAK,EAAA,6DACHL,EAASM,KADN,SAEoBC,IAAMgB,OAAN,UAAgBvK,EAAhB,YAAuBC,EAAvB,YAA2CmK,IAC7DX,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKU,EAAgBP,QAAQwJ,IACvCpB,EAASM,EAAiD,oBACnDI,EAASC,QAEnBC,OAAM,SAAAC,GACCA,EAAIH,UACJV,EAASM,EAAA,uBAA8DO,EAAIH,SAASC,QACpFG,QAAQhD,MAAR,0BAAiC+C,EAAIH,SAASC,QACzCE,EAAIE,SACTf,EAASM,EAAA,uBAA8DO,EAAIE,QAAQC,UACnFF,QAAQhD,MAAR,yBAAgC+C,EAAIE,YAEpCf,EAASM,EAAA,uBAA8DO,EAAIpD,WAC3EqD,QAAQhD,MAAR,iBAAwB+C,QAjBjC,yDAAP,6DM9DQb,GNRemB,EMQa9H,ENPpC,uCAAO,WAAO2G,GAAP,eAAAK,EAAA,6DACG1F,EAAO,CACT,GAAKwG,EAAWpE,GAChB,KAAOoE,EAAW/C,KAClB,QAAU+C,EAAW1C,QACrB,OAAS0C,EAAWlC,OACpB,MAAQkC,EAAWrC,MACnB,UAAYqC,EAAWnC,UACvB,IAAMmC,EAAWpC,IACjB,aAAeoC,EAAW/B,aAC1B,QAAU+B,EAAW9B,SAEzBW,EAASM,KAZN,SAaoBC,IAAMiB,KAAN,UAAcxK,EAAd,YAAqBC,GAAmB0D,GAC1D8F,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKQ,EAAaL,QAAQuJ,IACpCnB,EAASM,EAAiD,kBACnDI,EAASC,QAEnBC,OAAM,SAAAC,GACJA,EAAIH,UACHV,EAASM,EAAA,qBAA4DO,EAAIH,SAASC,KAAKlD,WACvFqD,QAAQW,IAAI,iBAAkBZ,EAAIH,WAC7BG,EAAIE,SACTf,EAASM,EAAA,qBAA4DO,EAAIE,QAAQC,UACjFF,QAAQW,IAAI,gBAAiBZ,EAAIE,WAErCf,EAASM,EAAA,qBAA4DO,EAAIpD,WACzEqD,QAAQW,IAAI,UAAWZ,OA5BxB,yDAAP,2DMiDiJ,6BAC7I,sBAAKjH,UAAWC,IAAQ6H,eAAxB,UACI,sBAAK9H,UAAWC,IAAQ8H,aAAxB,UACI,4CACA,sBAAK/H,UAAWC,IAAQ+H,oBAAxB,UACI,cAAChE,EAAA,EAAD,CAAWG,UAAQ,EAAChB,GAAG,oBAAoB3G,MAAM,0BAA0B4H,QAAQ,WAC/EC,SA1Da,SAAC4D,GAAD,OAASjC,EAAoBiC,EAAM/E,OAAO3B,QA0DjBA,MAAOwE,IACjD,cAACL,EAAA,EAAD,CAAQtB,QAAQ,YAAYjB,GAAG,gBAAgBwC,MAAM,UAAU/D,QA1DrD,kBAAIwE,GNvBL8B,EMuBmCnC,ENtB5D,uCAAO,WAAOK,GAAP,SAAAK,EAAA,6DACCL,EAASM,KADV,SAEqBC,IAAMC,IAAN,UAAaxJ,EAAb,YAAoBC,EAApB,mBAA+C6K,IAC9DrB,MAAK,SAAAC,GAGF,OAFAV,EAAS,CAACvI,KAAKO,EAAyBJ,QAAQ8I,EAASC,OACzDX,EAASM,EAAA,0BAAoEI,EAASC,KAAKhH,UACpF+G,EAASC,QAEnBC,OAAM,SAAAC,GACAA,EAAIH,UACHV,EAASM,EAA8CO,EAAIH,SAASC,KAAKlD,UACzEqD,QAAQhD,MAAM+C,EAAIH,SAASC,OACtBE,EAAIE,SACTf,EAASM,EAA8CO,EAAIE,QAAQC,SACnEF,QAAQhD,MAAM+C,EAAIE,QAAQJ,QAE1BX,EAASM,EAA8CO,EAAIpD,UAC3DqD,QAAQhD,MAAM+C,OAjB3B,yDAAP,wDADG,IAAsBiB,GMiFT,kBACA,cAACxC,EAAA,EAAD,CAAQtB,QAAQ,YAAYjB,GAAG,cAAcwC,MAAM,UAAU/D,QArCzC,WAChC,IAAM2F,EJ1CH9H,EI2CC8C,EAAO,KACPgF,EAAW1C,QAAUtC,EAAO,GAAGY,GAC/BoE,EAAWzC,UAAYvC,EAAO,GAAGiC,MAEjC7B,EAAM,KACN4E,EAAWlC,OAAS1C,EAAM,GAAGQ,GAC7BoE,EAAWhC,SAAW5C,EAAM,GAAG6B,KAC/B+C,EAAWzI,UAAY6D,EAAM,GAAG7D,WAEpCwI,EAAsBC,GDnEX,IC6FC,oBAEJ,cAAC,GAAD,CAAW5H,WAAc2G,EAAUxG,QAzBxB,CACnB,CAAEsB,MAAO,kBAAmBZ,WAAW,sBAAwBF,MAAO,KACtE,CAAEc,MAAO,QAASZ,WAAY,QAASF,MAAO,GAAIzC,KAAM,UACxD,CAAEuD,MAAO,YAAaZ,WAAY,YAAaF,MAAO,GAAIzC,KAAM,UAChE,CAAEuD,MAAO,MAAOZ,WAAY,QAASF,MAAO,GAAIzC,KAAM,UACtD,CAAEuD,MAAO,uBAAwBZ,WAAY,gBAAiBF,MAAO,KAoBDV,SAAS,EAAMC,mBAAoByH,OAEnG,gCACA,sBAAKtH,UAAWC,IAAQkI,WAAxB,UACA,kDACI,cAAC,GAAD,CAAWxI,WAAc4C,EAAQ3C,SAAS,OAE9C,sBAAKI,UAAWC,IAAQmI,UAAxB,UACA,yCACI,cAAC,GAAD,CAAWzI,WAAcgD,EAAO/C,SAAS,iB,6BCtG5CyI,GAAoB,sBACpBC,GAAgB,kBAChBC,GAAkB,oBAClBC,GAAkB,oBAClBC,GAAqB,oBACrBC,GAAqB,uBACrBC,GAAqB,uB,kBC6DnBC,GA9DG,SAAC,GAAiC,IAAhC9G,EAA+B,EAA/BA,OAAQlF,EAAuB,EAAvBA,MAAOmF,EAAgB,EAAhBA,aAAgB,EACjBE,mBAAShD,EAAwB6C,EAAOjD,SAASiD,EAAOhD,YADvC,mBACxCD,EADwC,KAC9BgK,EAD8B,OAEvB5G,mBAASH,EAAOoD,MAAMhG,QAAQ,IAFP,mBAExCgG,EAFwC,KAEjC4D,EAFiC,KAiB/C,OACI,qBAAK9I,UAAU,kBAAf,SACI,sBAAKA,UAAU,QAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,+BAAO8B,EAAOqB,KACd,+BAAOrB,EAAO0C,UAElB,cAACR,EAAA,EAAD,CAAWnG,KAAK,SAASsG,UAAQ,EAAC3H,MAAM,WAAW4H,QAAQ,WAAW7C,MAAO1C,EACzEwF,SAlBhB,SAAiC4D,GAC7BY,EAAYZ,EAAM/E,OAAO3B,QAkBbwH,OAAQ,SAACd,GAAiC,KAArBA,EAAM/E,OAAO3B,OAAWsH,EAAY,MAE7D,cAAC7E,EAAA,EAAD,CAAWnG,KAAK,SAASsG,UAAQ,EAAC3H,MAAM,QAAQ4H,QAAQ,WAAW7C,MAAO2D,EACtEb,SAnBhB,SAA8B4D,GAC1Ba,EAASb,EAAM/E,OAAO3B,QAmBVwH,OAAQ,SAACd,GAAiC,KAArBA,EAAM/E,OAAO3B,OAAWuH,EAAS,MAE1D,sBAAK9I,UAAU,gBAAf,UACI,cAAC0F,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,kBA9BrE,WACI,IAAMoH,EAAcpK,EAAkBC,EAAUiD,EAAOhD,WACvDiD,EAAa,6BAAKD,GAAN,IAAcoD,MAAM7F,KAAK4J,MAAwB,IAAlBjK,WAAWkG,IAAY,IAAKrG,SAASmK,EAAa5J,IAAIC,KAAK4J,MAAM/D,EAAM8D,EAAY,KAAK,MAAMpM,GA4BpEgJ,IAAoBC,kBAAgB,EAA7F,gBAGA,cAACH,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,WAvBpCG,KAuBgE8D,kBAAgB,EAAjG,oBAGA,cAACH,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,YAAY/D,QAAS,WAxBnEG,EAAc,GAAInF,IAwB6EiJ,kBAAgB,EAAnG,6B,oBCzCL,SAASqD,GAAT,GAAwD,IAAxCC,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,QAAStH,EAAc,EAAdA,aAC9CuH,EAAO9G,aAAY,SAAAC,GAAK,OAAEA,EAAM6G,KAAKC,YAK3C,OACI,qBAAKvJ,UAAWC,KAAQuJ,aAAxB,SACI,sBAAKxJ,UAAWC,KAAQwJ,YAAxB,UACI,sBAAKzJ,UAAWC,KAAQyJ,aAAxB,UACI,qCAAQJ,EAAKK,KAAb,OACA,kDAAgBN,EAAQhI,MAAM,MAAM,GAAGA,MAAM,KAAK,GAAlD,eAAwEgI,EAAQhI,MAAM,MAAM,GAAGA,MAAM,KAAK,GAAGuI,OAAO,EAAE,IAAIC,QAAQ,IAAI,QACtI,qBAAK7J,UAAWC,KAAQ8D,cAAxB,SACI,sBAAK/D,UAAWC,KAAQ6J,cAAxB,UACI,sBAAM9J,UAAWC,KAAQ8J,aAAzB,kBACA,sBAAM/J,UAAWC,KAAQ+J,eAAzB,0BACA,sBAAMhK,UAAWC,KAAQgK,gBAAzB,mBACA,sBAAMjK,UAAWC,KAAQiK,mBAAzB,kBACA,sBAAMlK,UAAWC,KAAQkK,cAAzB,sBAGR,qBAAKnK,UAAWC,KAAQmK,eAAxB,SAEQhB,EAAQ1M,KAAI,SAACsI,EAAE5E,GAAH,OAAO,sBAAKJ,UAAWC,KAAQ6J,cAAxB,UACf,sBAAM9J,UAAWC,KAAQ8J,aAAzB,SAAwC/E,EAAE7B,KAC1C,sBAAMnD,UAAWC,KAAQ+J,eAAzB,SAA0ChF,EAAER,OAC5C,sBAAMxE,UAAWC,KAAQgK,gBAAzB,SAA2CjF,EAAEE,QAC7C,sBAAMlF,UAAWC,KAAQiK,mBAAzB,SAA8ClF,EAAEnG,WAChD,sBAAMmB,UAAWC,KAAQkK,cAAzB,SAAyCnF,EAAE5F,QALgBgB,QASvE,uBAAMJ,UAAWC,KAAQoK,UAAzB,qBAA6ClL,EAAmBgK,EAAM/J,KAAtE,OACA,uBAAMY,UAAWC,KAAQqK,QAAzB,6BAAmDnL,EA9B3CiK,EAAQ1M,KAAI,SAAAsI,GAAC,OAAEA,EAAE5F,IAAI4F,EAAEG,IAAI,OAAKoF,QAAO,SAACC,EAAGC,GAAJ,OAASD,EAAKC,MA8B7D,UAGJ,cAAC/E,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAASG,EAAc8D,kBAAgB,EAAnF,wBC9BhB,IA2Me6E,GA1MJ,WACP,IAAMtE,EAAWpE,cADN,EAEWC,mBAAS,IAFpB,mBAEJ0I,EAFI,KAECC,EAFD,KAGX,SAASC,IACL,MAAO,CACH,GAAK,GACL,KAAO,GACP,QAAU,GACV,OAAS,GACT,MAAQ,EACR,UAAY,EACZ,IAAM,GAXH,MAcmB5I,mBAAS4I,GAd5B,mBAcJpL,EAdI,KAcKyC,EAdL,OAeqBD,mBAAS,GAf9B,mBAeJpD,EAfI,KAeMgK,EAfN,OAgByB5G,mBAAS,CAACgE,MAAK,IAhBxC,mBAgBJ6E,EAhBI,KAgBQC,EAhBR,OAiBuB9I,mBAAS,CAACgE,MAAK,IAjBtC,mBAiBJ+E,EAjBI,KAiBOC,EAjBP,KAmBXzE,qBAAW,WACPJ,EHtBJ,uCAAO,WAAMA,GAAN,eAAAK,EAAA,+EAEqBE,IAAMC,IAAN,UAAaxJ,EAAb,YAAoBC,IAAoBwJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAFvF,OAEOmE,EAFP,OAGC9E,EAAS,CAACvI,KAAKwK,GAAmBrK,QAAQkN,IAH3C,gDAIOhE,QAAQhD,MAAR,MAJP,yDAAP,uDGuBIkC,EHfJ,uCAAO,WAAMA,GAAN,eAAAK,EAAA,+EAEwBE,IAAMC,IAAN,UAAaxJ,EAAb,YAAoBG,EAApB,YTZd,ISY8DsJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAFlG,OAEOwC,EAFP,OAGCnD,EAAS,CAACvI,KAAKyK,GAAetK,QAAQuL,GAAkB,CAACpG,IAAI,EAAEqB,KAAK,sCAAD,OTb1D,GSa4GmF,KAAK,MAH3H,gDAIOzC,QAAQhD,MAAR,MAJP,yDAAP,yDGgBG,IACH,IAAMoC,EAAW9D,aAAY,SAAAC,GAAK,OAAEA,EAAM6G,KAAKhD,YACzC8C,EAAU5G,aAAY,SAAAC,GAAK,OAAEA,EAAM6G,KAAKF,WACxCE,EAAO9G,aAAY,SAAAC,GAAK,OAAEA,EAAM6G,KAAKC,YACrC1G,EAAgBL,aAAY,SAAAC,GAAK,OAAEA,EAAMI,iBACzCsI,EAASpI,iBAAO,MActB,SAASqI,EAAkBC,GACvB,GAAIA,GAAoB5L,GAAYA,EAAQ0D,GAAI,CAC5C,IAAMmI,EAAOD,GAAoC5L,EAC3C8L,EAAe3M,EAAkBC,EAAUyM,EAAKxM,WAChDgD,EAAS,CACXqB,GAAGmI,EAAKnI,GACRqB,KAAK8G,EAAK9G,KACVU,MAAMoG,EAAKpG,MACXrG,SAAS0M,EACTlG,OAAOiG,EAAKjG,OACZjG,IAAIC,KAAK4J,MAAMqC,EAAKpG,MAAQqG,EAAe,KAAK,IAChDpG,IAAImG,EAAKnG,IACTN,QAAQyG,EAAKzG,QACb/F,UAAUwM,EAAKxM,WAEnBsH,EHWL,SAAmBtE,GACtB,MAAO,CACHjE,KAAK2K,GACLxK,QAAQ8D,GGdK0J,CAAkB1J,IAC3BI,EArDG,CACH,GAAK,GACL,KAAO,GACP,QAAU,GACV,OAAS,GACT,MAAQ,EACR,UAAY,EACZ,IAAM,IAgDV0I,EAAO,IACP/B,EAAY,GAYhB,SAAS4C,IACArC,EAAQrJ,SAGbqG,EHdG,CACHvI,KAAK8K,GACL3K,QAAQ,KGaRkE,EAzEO,CACH,GAAK,GACL,KAAO,GACP,QAAU,GACV,OAAS,GACT,MAAQ,EACR,UAAY,EACZ,IAAM,IAmEV0I,EAAO,IACP/B,EAAY,IAEhB,SAAS6C,IACL,GAAKtC,EAAQrJ,OAAb,CAGA,IAAM4L,EAKV,WAEI,OTnGsBvM,ESkGLgK,EAAQ1M,KAAI,SAAAsI,GAAC,OAAEA,EAAEE,MAAMF,EAAEnG,YAAU0L,QAAO,SAACqB,EAAEC,GAAH,OAAOD,EAAGC,IAAE,GTjGpExM,KAAKC,MAAU,IAAJF,GAAS,IADxB,IAAuBA,ES4FL0M,GACjBb,EAAa,CAAChF,MAAK,EAAMkD,MAAM,CAAC/J,IAAIuM,GAAWvC,QAAQ,aAAIA,KAE3DhD,EH3ED,SAAmBgD,EAASC,EAAS0C,EAAQJ,GAChD,8CAAO,WAAMvF,GAAN,iBAAAK,EAAA,6DACGuF,EAAiB5C,EAAQ1M,KAAK,SAAAuP,GAChC,MAAO,CACHC,WAAW,CAAC/I,GAAG8I,EAAE9I,IACjBtE,SAASoN,EAAEpN,SACXqG,MAAM+G,EAAE/G,MACR9F,IAAIJ,WAAWiN,EAAE7M,SAGnB2B,EAAO,CACToC,GAAGgJ,OAAO9C,GACVC,KAAK,CACDnG,GAAG4I,GAGP3C,QAAQ4C,EACR5M,IAAIJ,WAAW2M,IAEnBzE,QAAQW,IAAI9G,EAAKqL,UAKjBhG,EAASM,KAvBN,SAwBoBC,IAAMiB,KAAN,UAAcxK,EAAd,YAAqBE,GAAkByD,GACzD8F,MAAK,SAAAC,GAKF,OAHAV,EAAS,CAACvI,KAAK0K,GAAiBvK,QADhB,KAEhBoI,EAASM,EAAA,UAAoDI,EAASC,KAAKlJ,KAAlE,cAA4EiJ,EAASC,KAAK/I,WACnGkJ,QAAQW,IAAIf,EAASC,MACdD,EAASC,QAEnBC,OAAM,SAAAC,GACAA,EAAIH,UACHV,EAASM,EAA8CO,EAAIH,SAASC,OACpEG,QAAQW,IAAIZ,EAAIH,SAASC,OACpBE,EAAIE,SACTf,EAASM,EAA8CO,EAAIE,QAAQC,SACnEF,QAAQW,IAAIZ,EAAIE,WAEhBf,EAASM,EAA8CO,EAAIpD,UAC3DqD,QAAQW,IAAIZ,OAzCrB,yDAAP,sDG0EcuE,CAAmBpC,EAAS,EZ5FzB,EY4FqCpK,WAAY2M,MA5DlEnF,qBAAU,WACNU,QAAQW,IAAI,mBACZsD,EAAOkB,QAAQC,gBAAe,KAC/B,CAAClD,IAuEJ,IAAMtJ,EAAU,CACZ,CAAEsB,MAAO,KAAMZ,WAAY,SAAKF,MAAO,IACvC,CAAEc,MAAO,KAAMZ,WAAY,YAAaF,MAAO,KAC/C,CAAEc,MAAO,QAASZ,WAAY,QAASF,MAAO,GAAIzC,KAAM,UACxD,CAAEuD,MAAO,WAAYZ,WAAY,WAAYF,MAAO,GAAIzC,KAAM,UAC9D,CAAEuD,MAAO,SAAUZ,WAAY,OAAQF,MAAO,IAC9C,CAAEc,MAAO,OAAQZ,WAAY,MAAOF,MAAO,KAgB/C,OACI,qCACCwK,EAAW7E,KAAO,cAAC,GAAD,CAAYnE,OAAQgJ,EAAWhJ,OAAQlF,MAAOkO,EAAWlO,MAAOmF,aAbvF,SAAgCD,EAAQlF,GACpCmO,EAAe,CAAC9E,MAAK,IAChBnE,IAGAA,EAAOqB,GAIZiD,EHhDD,SAAsBtE,EAAQlF,GACjC,MAAO,CACHiB,KAAK6K,GACL1K,QAAQ,CAAC8D,SAAQlF,UG6CR4O,CAAqB1J,EAAQlF,IAHlCwJ,EHvCL,SAAsBxJ,GACzB,MAAO,CACHiB,KAAK4K,GACLzK,QAAQpB,GGoCK4O,CAAqB5O,QAO2F,6BAC5HoO,EAAU/E,MAAQpD,EAAcA,gBAAgBpF,EAAmB,cAACyL,GAAD,CAAOC,MAAO6B,EAAU7B,MAAOE,QAASxG,EAAc9E,WAAYqL,QAAS4B,EAAU5B,QAASrH,aA7BtK,WACIkJ,EAAa,CAAChF,MAAK,IACnBG,EAASjI,QA2B+L,6BAExM,sBAAK6B,UAAWC,KAAQa,QAAxB,UACI,sBAAKd,UAAWC,KAAQsM,aAAxB,UACI,sBAAKvM,UAAWC,KAAQuM,YAAxB,UACI,+BAAOlD,EAAK9E,OACZ,+BAAO8E,EAAKK,UAGhB,qBAAK3J,UAAWC,KAAQwM,cAAxB,SACI,qBAAKzM,UAAWC,KAAQC,OAAxB,SAEIJ,EAAQpD,KAAI,SAACsI,EAAE5E,GAAH,OAAO,uBAAclD,MAAO,CAACoD,MAAM,GAAD,OAAI0E,EAAE1E,MAAN,OAA3B,UAA8C0E,EAAExE,WAAhD,MAAWJ,UAItC,sBAAKJ,UAAWC,KAAQyM,YAAxB,UAEItD,EAAQ1M,KAAI,SAACsI,EAAE5E,GAAH,OAAO,sBAAaJ,UAAWC,KAAQ0M,eAAhC,UACf,sBAAMzP,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,MAAyBY,UAA4B,WAAlBpB,EAAQ,GAAGjC,KAAgB,QAAQ,QAAzF,SAAmGuC,EAAE,IACrG,uBAAMlD,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,MAAyBY,UAA4B,WAAlBpB,EAAQ,GAAGjC,KAAgB,QAAQ,QAAzF,UAAmGmH,EAAE7B,GAAG,uBAAM6B,EAAER,QAChH,sBAAMtH,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,MAAyBY,UAA4B,WAAlBpB,EAAQ,GAAGjC,KAAgB,QAAQ,QAAzF,SAAmGsB,EAAmB6F,EAAEE,SACxH,sBAAMhI,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,MAAyBY,UAA4B,WAAlBpB,EAAQ,GAAGjC,KAAgB,QAAQ,QAAzF,SAAmGoB,EAAwB+F,EAAEnG,SAASmG,EAAElG,aACxI,sBAAM5B,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,MAAyBY,UAA4B,WAAlBpB,EAAQ,GAAGjC,KAAgB,QAAQ,UAAzF,SAAqGmH,EAAEK,SACvG,wBAAQnI,MAAO,CAACoD,MAAM,GAAD,OAAIR,EAAQ,GAAGQ,MAAf,OAA2BsB,QAAS,WAxCzEmJ,EAAc,CAAC9E,MAAK,EAAMnE,OAwC4EkD,EAxCpEpI,MAwCsEwD,KAAxF,mBANyBA,MAS7B,qBAAK6D,IAAKkH,UAGlB,sBAAKnL,UAAWC,KAAQ2M,eAAxB,UACI,sBAAK5M,UAAWC,KAAQ4M,aAAxB,UACI,cAACnH,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,kBAhGrE,WACI,GAAK0E,GAAaA,EAASvG,OAA3B,CAGA,IAAM+M,EAAWxG,EAASvG,OACpBnD,EAAQyC,KAAK4J,MAAM5J,KAAK0N,SAAWD,GACvBxG,EAAS1J,GAAOuG,GAClCiI,EAAkB,gBAAI9E,EAAS1J,MAyFsCoQ,IAAsBnH,kBAAgB,EAA/F,kBAGA,qBAAK7F,UAAWC,KAAQgN,YAAxB,SAESxN,GAAWA,EAAQ0D,GAAM,qCAAG1D,EAAQ0D,GAAX,KAAgB,uBAAhB,IAAuB1D,EAAQ+E,KAA/B,IAAuC/E,EAAQyF,MAAOhG,QAAQ,GAA9D,IAAmEO,EAAQ0F,IAA3E,OAAoF,kCAI1H,sBAAKnF,UAAWC,KAAQ4M,aAAxB,UACI,cAAC7I,EAAA,EAAD,CAAWb,GAAG,eAAe3G,MAAM,UAAU4H,QAAQ,WAAW7C,MAAOoJ,EACnEtG,SAAU,SAAC4D,GAAD,OAAS2C,EAAO3C,EAAM/E,OAAO3B,UAC3C,cAACmE,EAAA,EAAD,CAAQtB,QAAQ,WAAWuB,MAAM,UAAU/D,QAAS,kBA1IpE,WACI,IAAM0J,EAAOhF,EAASvB,MAAK,SAAAC,GAAC,OAAEA,EAAE7B,KAAKwH,KACjCW,GACApJ,EAAW,gBAAIoJ,IAEnBV,EAAO,IAqI6DsC,IAAyBrH,kBAAgB,EAAjG,kBAGA,cAAC7B,EAAA,EAAD,CAAWnG,KAAK,SAASX,MAAO,CAACoD,MAAM,SAAU6C,GAAG,gBAAgB3G,MAAM,WAAW4H,QAAQ,WAAW7C,MAAO1C,EAC3GwF,SAAU,SAAC4D,GAAD,OAASY,EAAYZ,EAAM/E,OAAO3B,UAChD,cAACmE,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,kBAAIwJ,KAAqBvF,kBAAgB,EAA9F,oBAIJ,sBAAK3I,MAAO,CAACiQ,QAAQ,QAArB,UACA,sBAAKnN,UAAWC,KAAQmN,aAAxB,UACI,yCACA,iCAvFLjO,EADUiK,EAAQ1M,KAAI,SAAAsI,GAAC,OAAEA,EAAEE,MAAMF,EAAEnG,YAAU0L,QAAO,SAACqB,EAAEC,GAAH,OAAOD,EAAGC,IAAE,IAwF3D,OACA,cAACnG,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,UAAU/D,QAAS,kBAAI8J,KAAuB7F,kBAAgB,EAAhG,0BAIJ,qBAAK7F,UAAWC,KAAQoN,cAAxB,SACI,cAAC3H,EAAA,EAAD,CAAQtB,QAAQ,YAAYuB,MAAM,YAAY/D,QAAS,kBAAI6J,KAAwB5F,kBAAgB,EAAnG,wC,UCtMPyH,GAAsB,2BACtBC,GAA4B,iCAC5BC,GAAc,2BACdC,GAAY,4BAElB,SAASC,GAAmBC,EAAM1Q,GACrC,8CAAO,WAAOmJ,GAAP,eAAAK,EAAA,sEAECL,EAASM,KAFV,SAG+BkH,IAAMhH,IAAN,UAAaxJ,EAAb,YbNP,eaMO,iBAAkDuQ,EAAlD,eAA6D1Q,IACtF4J,MAAK,SAAAC,GAAQ,OAAEA,EAASC,QAJ9B,OAGO8G,EAHP,OAKCzH,EAAS,CAACvI,KAAKyP,GAAuBtP,QAAQ6P,IAC9CzH,EAASM,KANV,gDAQCN,EAASM,EAA8C,KAAE7C,UACzDqD,QAAQ4G,IAAR,MATD,yDAAP,sDAcG,SAASC,GAAwBJ,EAAM1Q,GAC1C,8CAAO,WAAOmJ,GAAP,eAAAK,EAAA,+EAE+BmH,IAAMhH,IAAN,UAAaxJ,EAAb,YbnBD,qBamBC,iBAAwDuQ,EAAxD,eAAmE1Q,IAC5F4J,MAAK,SAAAC,GAAQ,OAAEA,EAASC,QAH9B,OAEO8G,EAFP,OAICzH,EAAS,CAACvI,KAAK0P,GAA6BvP,QAAQ6P,IAJrD,gDAMC3G,QAAQW,IAAI,QAAZ,MAND,yDAAP,sD,aClBJ,SAASmG,GAAQC,GAEb,OADU,aAAOA,GACLvR,KAAI,SAAAuP,GAAI,MAAO,CAACiC,EAAEjC,EAAEkC,WAAWC,EAAEnC,EAAE7M,QAGnD,SAASiP,GAAQJ,GACb,IAAMlH,EAAO,CACT,CACEvK,MAAO,WACPuK,KAAKiH,GAAQC,KASnB,OACI,cAAC,SAAD,CAAOlH,KAAMA,EAAMuH,KANV,CACT,CAAEC,SAAS,EAAM1Q,KAAM,UAAW2Q,SAAU,UAC5C,CAAE3Q,KAAM,SAAU2Q,SAAU,WAWpC,IAgDeC,GAhDF,WACT,IAAMrI,EAAWpE,cACX0M,EAAiBlM,aAAY,SAAAC,GAAK,OAAEA,EAAMkM,OAAOC,SACjDC,EAAiBrM,aAAY,SAAAC,GAAK,OAAEA,EAAMkM,OAAOG,cACjDjM,EAAgBL,aAAY,SAAAC,GAAK,OAAEA,EAAMI,iBACzC8K,EAAOnL,aAAY,SAAAC,GAAK,OAAEA,EAAMkM,OAAOhB,QACvC1Q,EAAKuF,aAAY,SAAAC,GAAK,OAAEA,EAAMkM,OAAO1R,MAE3C,OADAuJ,qBAAU,WAAKJ,EAASoF,GAA2BmC,EAAK1Q,IAAMmJ,EAASoF,GAAgCmC,EAAK1Q,MAAO,IAC3G,sBAAKC,MAAO,CAAC6R,UAAU,QAAvB,UACJ,oBAAI7R,MAAO,CAACC,OAAO,SAAS6R,gBAAgB,OAAOrJ,MAAM,SAAzD,0BACA,0CAAa,uBAAO9H,KAAO,OAAOwG,SAAU,SAAC4K,GAAD,OAAK7I,EDPlD,SAAqBuH,GACxB,MAAO,CAAC9P,KAAK2P,GAAexP,QAAQ2P,GCM0BnC,CAAoByD,EAAE/L,OAAO3B,SAASA,MAAOoM,OACvG,yCAAY,uBAAO9P,KAAO,OAAOwG,SAAU,SAAC4K,GAAD,OAAK7I,EDLjD,SAAmBnJ,GACtB,MAAO,CAACY,KAAK4P,GAAazP,QAAQf,GCI2BuO,CAAkByD,EAAE/L,OAAO3B,SAASA,MAAOtE,OACpG,wBAAQ2E,QAAS,WAAKwE,EAASoF,GAA2BmC,EAAK1Q,IAAMmJ,EAASoF,GAAgCmC,EAAK1Q,KAAnH,oBAGR4F,EAAcA,gBAAgB6D,EAC9B,qBAAKxJ,MAAO,CAACiQ,QAAQ,OAAQ7M,MAAO,OAAO4O,OAAQ,OAAQC,eAAe,SAAUC,WAAW,UAA/F,SACE,cAACC,GAAA,EAAD,MAGFxM,EAAcA,gBAAgB6D,EAC9B,qBAAKxJ,MAAO,CAACiQ,QAAQ,OAAQ7M,MAAO,OAAO4O,OAAQ,OAAQC,eAAe,SAAUC,WAAW,UAA/F,SACG,+BAAOvM,EAAc9E,eAGd,qBAAKb,MAAO,CAACoD,MAAO,OAAO4O,OAAQ,QAAnC,SACKb,GAAQK,KAGf,qBAAIxR,MAAO,CAACC,OAAO,SAAS6R,gBAAgB,OAAOrJ,MAAM,SAAzD,oBAEKxG,EAAmB0P,EAAenS,KAAI,SAAA4S,GAAE,OAAEA,EAAGvI,KAAKrK,KAAI,SAAAuP,GAAC,OAAEA,EAAE7M,OAAKmL,QAAO,SAACqB,EAAEC,GAAH,OAAOD,EAAEC,IAAG,MAAItB,QAAO,SAACqB,EAAEC,GAAH,OAAOD,EAAEC,IAAG,OAE/G,6BAEIgD,EAAenS,KAAI,SAAC4S,EAAIlP,GAAL,OACf,+BACKkP,EAAGxK,UADR,KACoB,kCAAK3F,EAAmBmQ,EAAGvI,KAAKrK,KAAI,SAAAuP,GAAC,OAAEA,EAAE7M,OAAKmL,QAAO,SAACqB,EAAEC,GAAH,OAAOD,EAAEC,IAAG,IAAjE,OAChB,6BACKyD,EAAGvI,KAAKrK,KAAI,SAACuP,EAAE7L,GAAH,OAAO,+BAAuB,+BAAO6L,EAAEkC,aAAhC,aAAgE,sBAAMjR,MAAO,CAACyI,MAAM,aAApB,SAAmCxG,EAAmB8M,EAAE7M,SAA/GkQ,EAAGzK,QAAQzE,UAHvCA,Y,oBChBVmP,GAlDF,SAAC,GAAa,IAAZC,EAAW,EAAXA,QACX,OACI,sBAAKxP,UAAWC,KAAQa,QAAxB,UACI,yDACA,wBAAQd,UAAS,UAAKC,KAAQwP,YAAb,YAA4BxP,KAAQyP,eACrD9N,QAAW,kBAAI4N,EAAQnP,KAAKsP,IAD5B,iBAGA,kiBAYA,wBAAQ3P,UAAS,UAAKC,KAAQwP,YAAb,YAA4BxP,KAAQyP,eACrD9N,QAAW,kBAAI4N,EAAQnP,KAAKsP,IAD5B,wBAGA,iMAIA,wBAAQ3P,UAAS,UAAKC,KAAQwP,YAAb,YAA4BxP,KAAQyP,eACrD9N,QAAW,kBAAI4N,EAAQnP,KAAKsP,IAD5B,qBAGA,+LAIA,oBAAI3P,UAAWC,KAAQwP,YAAvB,0BACA,yIAEI,uBAFJ,WAGY,mBAAGG,KAAK,+CAA+C1M,OAAO,SAA9D,6DAEZ,oBAAIlD,UAAWC,KAAQwP,YAAvB,2BACA,wJAGI,uBAHJ,WAIY,mBAAGG,KAAK,gDAAgD1M,OAAO,SAA/D,kECzBT2M,OAdf,WACE,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOtT,KAAMJ,EAAWa,OAAK,EAACF,UAAW4N,KACzC,cAAC,IAAD,CAAOnO,KAAMH,EAAiBY,OAAK,EAACF,UAAWgJ,KAC/C,cAAC,IAAD,CAAOvJ,KAAMF,EAAcW,OAAK,EAACF,UAAW2R,KAC5C,cAAC,IAAD,CAAOlS,KlBhBY,IkBgBOS,OAAK,EAACF,UAAWyS,YCJpCO,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBnJ,MAAK,YAAkD,IAA/CoJ,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCLRO,GAAU,CACZ/G,SAAS,GACTH,QAAQ,GACR9C,SAAS,ICFb,IAAMgK,GAAY,CACdhK,SAAU,GACVD,OAAQ,GACR9D,OAAO,GACPI,MAAM,GACN4D,OAAO,ICNX,IAAM+J,GAAY,CACd1B,MAAQ,GACRE,WAAa,GACbnB,KAAO,WAAK,IAAM4C,EAAS,IAAIC,KAAoD,OAA5CD,EAASE,SAASF,EAASG,WAAa,GAAWH,EAASI,cAAc/G,OAAO,EAAE,IAAnH,GACP3M,IAAI,IAAIuT,MAAOG,cAAc/G,OAAO,EAAE,KCL1C,IAAM0G,GAAY,CACdzN,cAAelF,EACfI,WAAW,I,sBCIT6S,GAAWC,aAAgB,CAC7BvH,KJDG,WAAkD,IAA7BwH,EAA4B,uDAAlBR,GAAWS,EAAO,uCACpD,OAAOA,EAAOlT,MACV,KAAKyK,GACD,MAAO,CAACc,QAAQ0H,EAAU1H,QAAS9C,SAASwK,EAAUxK,SAAUiD,SAC5DwH,EAAO/S,SACf,KAAKqK,GACD,MAAO,CAACe,QAAQ0H,EAAU1H,QAAS9C,SAAUyK,EAAO/S,QAAQgT,MAAM,GAAIzH,SAASuH,EAAUvH,UAC7F,KAAKf,GACD,MAAO,CAACY,QAAQ,GAAD,oBAAK0H,EAAU1H,SAAf,CAAwB2H,EAAO/S,UAAUsI,SAASwK,EAAUxK,SAAUiD,SAASuH,EAAUvH,UAC5G,KAAKb,GACD,IAAMuI,EAAU,aAAOH,EAAU1H,SAEjC,OADA6H,EAAWF,EAAO/S,QAAQpB,OAA1B,gBAAuCmU,EAAO/S,QAAQ8D,QAC/C,CAACsH,QAAQ6H,EAAa3K,SAASwK,EAAUxK,SAAUiD,SAASuH,EAAUvH,UACjF,KAAKd,GACD,IAAMwI,EAAU,aAAOH,EAAU1H,SAEjC,OADA6H,EAAWC,OAAOH,EAAO/S,QAAQ,GAC1B,CAACoL,QAAQ6H,EAAa3K,SAASwK,EAAUxK,SAAUiD,SAASuH,EAAUvH,UACjF,KAAKhB,GACD,MAAO,CAACa,QAAQ2H,EAAO/S,QAAUsI,SAASwK,EAAUxK,SAAUiD,SAASuH,EAAUvH,UACrF,KAAKZ,GACD,OAAO,6BAAImI,GAAX,IAAsB1H,QAAQ2H,EAAO/S,UAE7C,OAAO8S,GIpBPpO,WHCG,WAAsD,IAA3BD,EAA0B,uDAAlB6N,GAAWS,EAAO,uCACxD,OAAOA,EAAOlT,MACV,KAAKO,EACD,OAAO,6BAAIqE,GAAX,IAAkB6D,SAASyK,EAAO/S,UACtC,KAAKK,EACD,OAAO,6BAAIoE,GAAX,IAAkB6D,SAAS,CAACyK,EAAO/S,SAAT,oBAAqByE,EAAM6D,aACzD,KAAKhI,EACD,IAAMmJ,EAAiBsJ,EAAO/S,QACxBpB,EAAQ6F,EAAM6D,SAAS6K,WAAU,SAAAnM,GAAC,OAAEA,EAAE7B,KAAKsE,EAAetE,MAC1DiO,EAAY,aAAI3O,EAAM6D,UAE5B,OADA8K,EAAYF,OAAOtU,EAAM,EAAE6K,GACpB,6BAAIhF,GAAX,IAAkB6D,SAAS8K,IAC/B,KAAK7S,EACD,IAAMiJ,EAAmBuJ,EAAO/S,QAC1BpB,EAAQ6F,EAAM6D,SAAS6K,WAAU,SAAAnM,GAAC,OAAEA,EAAE7B,KAAKqE,KAC3C4J,EAAY,aAAI3O,EAAM6D,UAE5B,OADA8K,EAAYF,OAAOtU,EAAM,GAClB,6BAAI6F,GAAX,IAAkB6D,SAAS8K,IAC/B,KAAK5S,EACD,OAAO,6BAAIiE,GAAX,IAAkB4D,OAAO0K,EAAO/S,UACpC,KAAKS,EACD,OAAO,6BAAIgE,GAAX,IAAkBF,OAAOwO,EAAO/S,UACpC,KAAKU,EACD,OAAO,6BAAI+D,GAAX,IAAkBE,MAAMoO,EAAO/S,UACnC,KAAKW,EACD,OAAO,6BAAI8D,GAAX,IAAkB8D,OAAOwK,EAAO/S,UACpC,QACA,OAAOyE,IG3BXkM,OFFG,WAAiD,IAA1BlM,EAAyB,uDAAnB6N,GAAWe,EAAQ,uCACnD,OAAOA,EAAQxT,MACX,KAAKyP,GACG,OAAO,6BAAI7K,GAAX,IAAkBmM,MAAMyC,EAAQrT,UACxC,KAAKuP,GACG,OAAO,6BAAI9K,GAAX,IAAkBqM,WAAWuC,EAAQrT,UAC7C,KAAKwP,GACG,OAAO,6BAAI/K,GAAX,IAAkBkL,KAAK0D,EAAQrT,UACvC,KAAKyP,GACG,OAAO,6BAAIhL,GAAX,IAAkBxF,GAAGoU,EAAQrT,UACrC,QAAQ,OAAOyE,IEPnBI,cDNG,WAAyD,IAA3BJ,EAA0B,uDAAlB6N,GAAWS,EAAO,uCAC3D,OAAQA,EAAOlT,MACX,KAAKL,EACD,MAAO,CACPqF,cAAcrF,EACdO,WAAYgT,EAAO/S,QAAQ+S,EAAO/S,QAAQ,IAC9C,KAAKP,EACD,MAAO,CACPoF,cAAcpF,EACdM,WAAYgT,EAAO/S,QAAQ+S,EAAO/S,QAAQ,IAC9C,KAAKN,EACD,MAAO,CACPmF,cAAcnF,EACdK,WAAYgT,EAAO/S,QAAQ+S,EAAO/S,QAAQ,IAC9C,KAAKL,EACD,MAAO,CACPkF,cAAclF,EACdI,WAAYgT,EAAO/S,QAAQ+S,EAAO/S,QAAQ,IAC9C,QAAQ,OAAOyE,MCTV6O,GAAQC,aAAYX,GAAUY,aAAgBC,OCN3DC,IAASC,OACP,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFM,SAASC,eAAe,SAM1B/B,M,mBCjBAgC,EAAOC,QAAU,CAAC,aAAe,4BAA4B,YAAc,2BAA2B,aAAe,4BAA4B,cAAgB,6BAA6B,eAAiB,8BAA8B,cAAgB,6BAA6B,aAAe,4BAA4B,eAAiB,8BAA8B,gBAAkB,+BAA+B,mBAAqB,kCAAkC,cAAgB,6BAA6B,UAAY,2B,mBCArhBD,EAAOC,QAAU,CAAC,QAAU,sBAAsB,YAAc,0BAA0B,aAAe,2BAA2B,YAAc,0BAA0B,eAAiB,6BAA6B,OAAS,qBAAqB,cAAgB,4BAA4B,aAAe,2BAA2B,cAAgB,4BAA4B,YAAc,4B,mBCAxYD,EAAOC,QAAU,CAAC,QAAU,2BAA2B,OAAS,0BAA0B,WAAa,8BAA8B,UAAY,6BAA6B,KAAO,wBAAwB,SAAW,4BAA4B,QAAU,2BAA2B,SAAW,8B,mBCApSD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,YAAc,4BAA4B,cAAgB,gC,mBCA9GD,EAAOC,QAAU,CAAC,eAAiB,mCAAmC,aAAe,iCAAiC,oBAAsB,wCAAwC,WAAa,+BAA+B,UAAY,8BAA8B,WAAa,+BAA+B,WAAa,iC,mBCAnUD,EAAOC,QAAU,CAAC,gBAAkB,uCAAuC,MAAQ,6BAA6B,cAAgB,qCAAqC,aAAe,oCAAoC,cAAgB,wC","file":"static/js/main.9f3ef8e5.chunk.js","sourcesContent":["export const PATH_RETAIL = '/';\r\nexport const PATH_CASH = '/cash';\r\nexport const PATH_BACKOFFICE = '/backoffice';\r\nexport const PATH_REPORTS = '/reports';\r\nexport const ITEMS = [  \r\n    {path: PATH_CASH, label: 'POS'},\r\n    {path: PATH_BACKOFFICE, label: 'BackOffice'},\r\n    {path: PATH_REPORTS, label: 'Reports'},\r\n    {path: PATH_RETAIL, label: 'About'}  \r\n]\r\n","import React from \"react\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\nimport {PATH_CASH,PATH_BACKOFFICE,PATH_REPORTS,PATH_RETAIL,ITEMS} from '../../config/menu'\r\nimport './Navigator.css'\r\nimport classes from './Navigator.module.css'\r\nconst Navigator = () => {\r\n    function getLinks() {\r\n        return ITEMS.map((item, index) =>\r\n        <Link component={NavLink} exact to={item.path} key={index} style={{margin: 20}}>{item.label}</Link>)\r\n    }\r\n    return <nav>\r\n        {getLinks()}\r\n    </nav>\r\n}\r\nexport default Navigator;","// export const URL='http://192.168.1.15:8080';\r\nexport const URL='https://retail-back-end.herokuapp.com/';\r\nexport const URL_PATH_PRODUCT='product';\r\nexport const URL_PATH_CHECK='check';\r\nexport const URL_PATH_CASH='cash-register';\r\nexport const URL_PATH_GROUP='group';\r\nexport const URL_PATH_UNIT='unit';\r\nexport const URL_PATH_REPORT_SALES='report/sales';\r\nexport const URL_PATH_REPORT_GROUP_SALES='report/group-sales';\r\nexport const CASH_ID=2;\r\n","export const REQUEST_SENT = '[request-status] sent';\r\nexport const REQUEST_SUCCEEDED = '[request-status] succeeded';\r\nexport const REQUEST_FAILED = '[request-status] failed';\r\nexport const REQUEST_NONE = '[request-status] none';\r\nexport function setRequestStatusToSent(){\r\n    return {type: REQUEST_SENT};\r\n}\r\nexport function setRequestStatusToSucceeded(infoString){\r\n    return {type: REQUEST_SUCCEEDED, payload: infoString};\r\n}\r\nexport function setRequestStatusToFailed(errorString){\r\n    return {type: REQUEST_FAILED, payload: errorString};\r\n}\r\nexport function setRequestStatusToNone(infoString){\r\n    return {type: REQUEST_NONE, payload: infoString};\r\n}","import {URL, URL_PATH_PRODUCT, URL_PATH_CHECK, URL_PATH_CASH, URL_PATH_GROUP, URL_PATH_UNIT} from '../config/server'\r\nimport Axios, {AxiosResponse, AxiosError} from \"axios\";\r\nimport * as RequestStatusActions from './actions-request-status';\r\n\r\nexport const SET_BACKOFFICE_PRODUCTS = \"[backoffice]-get-products\";\r\nexport const ADD_PRODUCT             = \"[backoffice]-add-product\";\r\nexport const UPDATE_PRODUCT          = \"[backoffice]-update-product\";\r\nexport const REMOVE_PRODUCT          = \"[backoffice]-remove-product\";\r\nexport const SET_BACKOFFICE_CASHES   = \"[backoffice]-get-cashes\";\r\nexport const SET_BACKOFFICE_GROUPS   = \"[backoffice]-get-groups\";\r\nexport const SET_BACKOFFICE_UNITS    = \"[backoffice]-get-units\";\r\nexport const SET_BACKOFFICE_CHECKS   = \"[backoffice]-get-checks\";\r\nexport function findProducts(searchString){\r\n    return async (dispatch)=>{\r\n            dispatch(RequestStatusActions.setRequestStatusToSent());\r\n            const prods = await Axios.get(`${URL}/${URL_PATH_PRODUCT}?search=${searchString}`)\r\n                .then(response => {\r\n                    dispatch({type:SET_BACKOFFICE_PRODUCTS, payload:response.data});\r\n                    dispatch(RequestStatusActions.setRequestStatusToSucceeded(`Found products: ${response.data.length}`));\r\n                    return response.data;\r\n                })\r\n                .catch(err=>{\r\n                    if(err.response){\r\n                        dispatch(RequestStatusActions.setRequestStatusToFailed(err.response.data.message));\r\n                        console.error(err.response.data);\r\n                    }else if(err.request){\r\n                        dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status));\r\n                        console.error(err.request.data);\r\n                    }else{\r\n                        dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                        console.error(err);\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\nexport function addProduct(newProduct){\r\n    return async (dispatch)=>{\r\n        const body = {\r\n            \"id\":newProduct.id,\r\n            \"name\":newProduct.name,\r\n            \"groupId\":newProduct.groupId,\r\n            \"unitId\":newProduct.unitId,\r\n            \"price\":newProduct.price,\r\n            \"remainder\":newProduct.remainder,\r\n            \"tax\":newProduct.tax,\r\n            \"manufacturer\":newProduct.manufacturer,\r\n            \"country\":newProduct.country\r\n        }\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const response = await Axios.post(`${URL}/${URL_PATH_PRODUCT}`,body)\r\n            .then(response => {\r\n                dispatch({type:ADD_PRODUCT, payload:newProduct});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded('Product added'));\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n            if(err.response) {\r\n                dispatch(RequestStatusActions.setRequestStatusToFailed(`Not added: ${err.response.data.message}`));\r\n                console.log(\"ERR RESPONSE :\", err.response);\r\n            }else if(err.request){\r\n                dispatch(RequestStatusActions.setRequestStatusToFailed(`Not added: ${err.request.status}`));\r\n                console.log(\"ERR REQUEST :\", err.request);\r\n            }else{\r\n            dispatch(RequestStatusActions.setRequestStatusToFailed(`Not added: ${err.message}`));\r\n            console.log(\"ERROR :\", err);}\r\n            });\r\n    }\r\n}\r\n\r\nexport function updateProduct(updatedProduct){\r\n    return async (dispatch)=>{\r\n        const body = {\r\n            \"id\":updatedProduct.id,\r\n            \"name\":updatedProduct.name,\r\n            \"groupId\":updatedProduct.groupId,\r\n            \"unitId\":updatedProduct.unitId,\r\n            \"price\":updatedProduct.price,\r\n            \"remainder\":updatedProduct.remainder,\r\n            \"tax\":updatedProduct.tax,\r\n            \"manufacturer\":updatedProduct.manufacturer,\r\n            \"country\":updatedProduct.country\r\n        }\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const response = await Axios.put(`${URL}/${URL_PATH_PRODUCT}`,body)\r\n            .then(response => {\r\n                dispatch({type:UPDATE_PRODUCT, payload:updatedProduct});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded('Product updated'));\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not updated: ${err.response.data.message}`));\r\n                    console.error(err.response);\r\n                }else if (err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not updated: ${err.request.status}`));\r\n                    console.error(err.request);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not updated: ${err.message}`));\r\n                    console.error(err);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function removeProduct(removedProductId){\r\n    return async (dispatch)=>{\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const response = await Axios.delete(`${URL}/${URL_PATH_PRODUCT}/${removedProductId}`)\r\n            .then(response => {\r\n                dispatch({type:REMOVE_PRODUCT, payload:removedProductId});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded('Product deleted'));\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not deleted: ${err.response.data}`));\r\n                    console.error(`ERROR RESPONSE: ${err.response.data}`);\r\n                }else if(err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not deleted: ${err.request.status}`));\r\n                    console.error(`ERROR REQUEST: ${err.request}`);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(`Not deleted: ${err.message}`));\r\n                    console.error(`ERROR: ${err}`);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport function findChecks(checkId){\r\n    return async (dispatch)=>{\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const checks = await Axios.get(`${URL}/${URL_PATH_CHECK}/${checkId}`)\r\n            .then(response => {\r\n                dispatch({type:SET_BACKOFFICE_CHECKS, payload:response.data});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded());\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.response.data.message));\r\n                    console.error(`ERROR RESPONSE: ${err.response.data}`);\r\n                }else if (err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status));\r\n                    console.error(`ERROR REQUEST: ${err.request}`);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                    console.error(err);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport function getCashes(){\r\n    return async (dispatch)=>{\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const cashes = await Axios.get(`${URL}/${URL_PATH_CASH}`)\r\n            .then(response => {\r\n                dispatch({type:SET_BACKOFFICE_CASHES, payload:response.data});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded());\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.response.data));\r\n                    console.error(err.response.data);\r\n                }else if (err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status));\r\n                    console.error(err.request);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                    console.error(err);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport function getGroups(){\r\n    return async (dispatch)=>{\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const groups = await Axios.get(`${URL}/${URL_PATH_GROUP}`)\r\n            .then(response => {\r\n                dispatch({type:SET_BACKOFFICE_GROUPS, payload:response.data});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded());\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.resonse.data))\r\n                    console.error(err.response.data);\r\n                }else if(err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status))\r\n                    console.error(err.request);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                    console.error(err);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport function getUnits(){\r\n    return async (dispatch)=>{\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const units = await Axios.get(`${URL}/${URL_PATH_UNIT}`)\r\n            .then(response => {\r\n                dispatch({type:SET_BACKOFFICE_UNITS, payload:response.data});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded());\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if (err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.response.data));\r\n                    console.error(err.response.data);\r\n                }else if(err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status));\r\n                    console.error(err.request.status);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                    console.error(err);\r\n                }\r\n            });\r\n    }\r\n}\r\n","export function normalizeQuantity( quantity, pieceUnit ){\r\n    return pieceUnit?parseInt(quantity):parseFloat(quantity);\r\n};\r\nexport function normalizeStringQuantity( quantity, pieceUnit ){\r\n    return pieceUnit?parseInt(quantity).toFixed(0):parseFloat(quantity).toFixed(3);\r\n};\r\nexport function normalizeSum( sum ){\r\n    return Math.round(sum*100)/100;\r\n};\r\nexport function normalizeStringSum( sum ){\r\n    return (Math.round(sum*100)/100).toLocaleString('iw-en', { style: 'currency', currency: 'ILS' });\r\n};\r\n","\r\nconst product = {\r\n    \"id\":\"\",\r\n    \"name\":\"\",\r\n    \"groupId\":\"\",\r\n    \"groupName\":\"\",\r\n    \"unitId\":\"\",\r\n    \"unitName\":\"\",\r\n    \"tax\":17.0,\r\n    \"price\":0.00,\r\n    \"remainder\":0.0,\r\n    \"manufacturer\":\"\",\r\n    \"country\":\"\",\r\n    \"pieceUnit\":true\r\n};\r\nexport function getEmptyProduct(){\r\n    return product;\r\n};\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport classes from './TableGrid.module.css'\r\n\r\nconst TableGrid =  ({datasource, needBtn, onBtnClickCallback, columns})=>{\r\n    const btnWidth = 40;\r\n    const scrollWidth = 20;\r\n\r\n    function formatField(value){\r\n        const formattedValue = value;\r\n        switch(typeof value){\r\n            case 'boolean':\r\n                formattedValue = value === true ? 'YES':'no';\r\n                break;\r\n        }\r\n        return formattedValue;\r\n    }\r\n\r\n    return (\r\n        datasource.length === 0 && !columns \r\n        ?\r\n        <>empty datasource</>    \r\n        :\r\n        <>\r\n            <div className={classes.header}>\r\n                {\r\n                   (()=>{\r\n                       const headerArr = [];\r\n                       if (!columns){\r\n                           const obj = datasource[0];\r\n                           for(let key in obj){\r\n                               headerArr.push(<div style={{width:`${100/Object.keys(obj).length}%` }} key={key} className={classes.headerItem}>{key}</div>);\r\n                           }\r\n                       }else{\r\n                            for(let i=0;i<columns.length;i++){\r\n                                headerArr.push(<div style={{width:`${columns[i].width}px`}} key={i} className={classes.headerItem}>{columns[i].headerName}</div>);\r\n                            }\r\n                        }\r\n                       headerArr.push(<div style={{width:`${(needBtn?btnWidth:0)+scrollWidth}px`}} key={headerArr.length} className={classes.headerBtn}>&nbsp;</div>)\r\n                       return headerArr;\r\n                   })()\r\n                }\r\n            </div>\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.body}>\r\n                {\r\n                    datasource.map((obj, i)=>\r\n                        <div key={i} className={classes.bodyLine}>\r\n                           {(()=> {\r\n                               const bodyArr = [];\r\n                               if (!columns){\r\n                                    for(let key in obj){\r\n                                        bodyArr.push(<div style={{width:`${100/Object.keys(obj).length}%` }} key={key} \r\n                                                className={classes.bodyItem}>\r\n                                            {typeof obj[key] === \"boolean\"?(obj[key]===true?'YES':'no'):obj[key]}\r\n                                            </div>);\r\n                                    }\r\n                                }else{\r\n                                    for(let i=0; i<columns.length;i++){\r\n                                        bodyArr.push(<div style={{width:`${columns[i].width}px`,textAlign:`${columns[i].type==='number'?'right':'left'}`}} key={i} \r\n                                                className={classes.bodyItem}>\r\n                                                {   \r\n                                                (()=>{\r\n                                                    const fields = columns[i].field.split(',');\r\n                                                    const field = fields.map(f=>formatField(obj[f])).join(' ');\r\n                                                    return field;\r\n                                                    })()\r\n                                                }\r\n                                            </div>);\r\n                                    }\r\n                                }\r\n                                if (needBtn){\r\n                                    bodyArr.push(<button style={{width:`${btnWidth}px`}} key={bodyArr.length} \r\n                                                className={classes.bodyBtn} onClick={()=>{onBtnClickCallback(obj,i)}} >\r\n                                                    ...\r\n                                                </button>)\r\n                               }\r\n                               return bodyArr;\r\n                            })() \r\n                           }\r\n                        </div>\r\n                        )\r\n                }\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nTableGrid.propTypes = {\r\n    datasource:PropTypes.array.isRequired,\r\n    needBtn:PropTypes.bool,\r\n    onBtnClickCallback:PropTypes.func,\r\n    columns:PropTypes.array\r\n}\r\n\r\nexport default TableGrid;","import React,{useState, useRef} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CheckBox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport classes from './ProductDetail.module.css';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport * as RequestStatusActions from '../../../redux/actions-request-status';\r\nimport * as Crud from '../../../config/crudConstants';\r\n\r\nexport default function ProductDetail({detail, index, closeHandler}){\r\n    const dispatch = useDispatch();\r\n    const [product, setProduct] = useState({...detail});\r\n    const [errorBarcode, setErrorBarcode] = useState(false);\r\n    const [errorName, setErrorName] = useState(false);\r\n    const groups = useSelector(state=>state.backoffice.groups);\r\n    const units = useSelector(state=>state.backoffice.units);\r\n    const requestStatus = useSelector(state=>state.requestStatus);\r\n    const ADD_MODE = index===Crud.ADD ? true : false;\r\n    const refBarcode = useRef(null);\r\n    const refName = useRef(null);\r\n    /* Handlers  */\r\n    const onChangeHandler=({target})=>setProduct({...product, [target.id]:target.type==='checkbox'?target.checked:target.value});\r\n    function okOnClickHandler(){\r\n        if (!product.name){\r\n            setErrorName(true);\r\n            return;\r\n        }\r\n        if (ADD_MODE){\r\n            if (!product.id){\r\n                setErrorBarcode(true);\r\n                return;\r\n            }\r\n            closeHandler( product, Crud.ADD); \r\n        }else{\r\n            closeHandler( product, index); \r\n        }\r\n    }\r\n    function cancelOnClickHandler(){ closeHandler({}); }\r\n    function deleteOnClickHandler(){ closeHandler( product, Crud.DELETE);}\r\n\r\n    return (\r\n        <div className={classes.modalBackground}>\r\n            {/* {console.log(requestStatus)} */}\r\n            <Snackbar anchorOrigin={{ vertical:\"top\", horizontal:\"left\" }} open={errorBarcode} autoHideDuration={2000} onClose={()=>setErrorBarcode(false)} message=\"Barcode is empty\"/>\r\n            <Snackbar anchorOrigin={{ vertical:\"top\", horizontal:\"left\" }} open={errorName} autoHideDuration={2000} onClose={()=>setErrorName(false)} message=\"Name is empty\"/>\r\n            {/* <Snackbar anchorOrigin={{ vertical:\"top\", horizontal:\"left\" }} open={requestStatus.requestStatus===RequestStatusActions.REQUEST_FAILED} autoHideDuration={2000} onClose={()=>dispatch(RequestStatusActions.setRequestStatusToNone)} message={requestStatus.infoString}/> */}\r\n            <div className={classes.modal}>\r\n                <div className={classes.headerWrapper}>\r\n                    <TextField type=\"text\" ref={refBarcode} error={product.id?false:true} required label=\"Barcode\" variant=\"outlined\" id=\"id\" value={product.id}\r\n                        onChange={onChangeHandler} disabled={!ADD_MODE}/>\r\n                </div>\r\n                <div className={classes.inputWrapper}>\r\n                    <TextField type=\"text\" ref={refName} error={product.name?false:true} required label=\"Name\" variant=\"outlined\" id=\"name\" value={product.name}\r\n                        onChange={onChangeHandler} />\r\n\r\n                    <FormControl required >\r\n                        <InputLabel id=\"group-select-label\">Group</InputLabel>\r\n                        <Select labelId=\"group-select-label\" id=\"group-select\" value={product.groupId}\r\n                        onChange={({target})=>{setProduct({...product, groupId:target.value, groupName:groups.find(v=>v.id===target.value).name})}}\r\n                        >   {groups.map((v,i)=><MenuItem key={i} value={v.id}>{v.name}</MenuItem>)}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <TextField type=\"number\" required label=\"Price\" variant=\"outlined\" id=\"price\" value={product.price}\r\n                        onChange={onChangeHandler} />\r\n\r\n                    <TextField type=\"number\" required label=\"Tax(%)\" variant=\"outlined\" id=\"tax\" value={product.tax}\r\n                        onChange={onChangeHandler} />\r\n                    <TextField type=\"number\" required label=\"Remainder\" variant=\"outlined\" id=\"remainder\" value={product.remainder}\r\n                        onChange={onChangeHandler} />\r\n                    <FormControl required>\r\n                        <InputLabel id=\"unit-select-label\">Unit</InputLabel>\r\n                        <Select labelId=\"unit-select-label\" id=\"unit-select\" value={product.unitId}\r\n                        onChange={({target})=>{\r\n                            const unit = units.find(v=>v.id===target.value);\r\n                            setProduct({...product, unitId:target.value, \r\n                                unitName:unit.name,\r\n                                pieceUnit:unit.pieceUnit\r\n                            })\r\n                        }}\r\n                        >   {units.map((v,i)=><MenuItem key={i} value={v.id}>{v.name}</MenuItem>)}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <TextField type=\"text\" label=\"Manufacturer\" variant=\"outlined\" id=\"manufacturer\" value={product.manufacturer}\r\n                        onChange={onChangeHandler} />\r\n                    <TextField type=\"text\" label=\"Country\" variant=\"outlined\" id=\"country\" value={product.country}\r\n                        onChange={onChangeHandler} />\r\n                </div>\r\n                <div className=\"buttonWrapper\">\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={()=>okOnClickHandler()} disableElevation>\r\n                        {ADD_MODE ? \"Add\": \"Ok\"}\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"default\" onClick={()=>cancelOnClickHandler()} disableElevation>\r\n                        {ADD_MODE ? \"Close\": \"Cancel\"}\r\n                    </Button>\r\n                    {ADD_MODE ? <></> : <Button variant=\"contained\" color=\"secondary\" onClick={()=>deleteOnClickHandler()} disableElevation>\r\n                        Delete\r\n                    </Button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const DELETE = -2;\r\nexport const ADD = -1;","import React,{ useState, useEffect, useRef } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport * as Actions from '../../../redux/actions-backoffice';\r\nimport {normalizeSum,normalizeStringSum,normalizeQuantity, normalizeStringQuantity} from '../../../utils/utilFunctions';\r\nimport * as RequestStatusActions from '../../../redux/actions-request-status';\r\nimport './Backoffice.css';\r\nimport classes from './Backoffice.module.css';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport {getEmptyProduct} from '../../../models/product'\r\nimport TableGrid from '../../library/tableGrid/TableGrid';\r\nimport ProductDetail from './ProductDetail'\r\nimport * as Crud from '../../../config/crudConstants';\r\n\r\nconst Backoffice=()=>{\r\n    const [prodSearchString, setProdSearchString]=useState(\"\");\r\n    const [checkSearchString, setCheckSearchString]=useState(\"\");\r\n    const [productDetail, setProductDetail]=useState({show:false});\r\n\r\n    const dispatch = useDispatch();\r\n    const cashes = useSelector(state=>state.backoffice.cashes);\r\n    const groups = useSelector(state=>state.backoffice.groups);\r\n    const units = useSelector(state=>state.backoffice.units);\r\n    const products = useSelector(state=>state.backoffice.products);\r\n    const checks = useSelector(state=>state.backoffice.checks);\r\n    const requestStatus = useSelector(state=>state.requestStatus);\r\n    \r\n    useEffect(()=>{\r\n        dispatch(Actions.getCashes());\r\n        dispatch(Actions.getGroups());\r\n        dispatch(Actions.getUnits());\r\n    }, []);\r\n\r\n    const onFindProductChangeHandler=(event)=>setProdSearchString(event.target.value);\r\n    const onFindButtonHandler=()=>dispatch(Actions.findProducts(prodSearchString));\r\n    \r\n\r\n    const onBodyBtnClickHandler = (product, index)=>{\r\n        setProductDetail({show:true, product, index })\r\n    };\r\n    const closeProductDetailHandler = (product, index)=>{\r\n\r\n        if (index===Crud.ADD){  //add new product\r\n            dispatch(Actions.addProduct(product));\r\n            return;\r\n        }\r\n        setProductDetail({show:false});\r\n        if (index===Crud.DELETE){ //remove product\r\n            dispatch(Actions.removeProduct(product.id));\r\n            return;\r\n        }\r\n        if (product.id){ //update product\r\n            dispatch(Actions.updateProduct(product));\r\n            return;\r\n        }\r\n    }\r\n    const onAddProductBtnClickHandler = ()=>{\r\n        const newProduct = getEmptyProduct();\r\n        if (groups[0]) {\r\n            newProduct.groupId = groups[0].id;\r\n            newProduct.groupName = groups[0].name;\r\n        }\r\n        if (units[0]) {\r\n            newProduct.unitId = units[0].id;\r\n            newProduct.unitName = units[0].name;\r\n            newProduct.pieceUnit = units[0].pieceUnit   ;\r\n        }\r\n        onBodyBtnClickHandler(newProduct, Crud.ADD);\r\n    }\r\n\r\n    const productColumns = [\r\n        { field: 'groupId,id,name', headerName: `Group / Code / Name`, width: 120 },\r\n        { field: 'price', headerName: 'Price', width: 65, type: 'number' },\r\n        { field: 'remainder', headerName: 'Remainder', width: 60, type: 'number' },\r\n        { field: 'tax', headerName: 'Tax %', width: 30, type: 'number' },\r\n        { field: 'country,manufacturer', headerName: 'Country Manuf', width: 55},\r\n      ];\r\n    return(\r\n        <>\r\n        <Snackbar anchorOrigin={{ vertical:\"top\", horizontal:\"left\" }} \r\n            open={requestStatus.requestStatus===RequestStatusActions.REQUEST_FAILED || \r\n                requestStatus.requestStatus===RequestStatusActions.REQUEST_SUCCEEDED &&\r\n                requestStatus.infoString!==''\r\n            } \r\n            autoHideDuration={2000} onClose={()=>dispatch(RequestStatusActions.setRequestStatusToNone())} message={requestStatus.infoString}/>\r\n        {productDetail.show ? <ProductDetail detail={productDetail.product} index={productDetail.index} closeHandler={closeProductDetailHandler}/> : <></>}\r\n        <div className={classes.wrapBackoffice}>\r\n            <div className={classes.wrapProducts}>\r\n                <span>products</span>\r\n                <div className={classes.wrapProductsControl}>\r\n                    <TextField required id=\"outlined-required\" label=\"Part of barcode or name\" variant=\"outlined\" \r\n                        onChange={onFindProductChangeHandler} value={prodSearchString}></TextField>\r\n                    <Button variant=\"contained\" id=\"find-products\" color=\"primary\" onClick={onFindButtonHandler}>Find</Button>\r\n                    <Button variant=\"contained\" id=\"add-product\" color=\"primary\" onClick={onAddProductBtnClickHandler}>Add</Button>\r\n                </div>\r\n                <TableGrid datasource = {products} columns={productColumns} needBtn={true} onBtnClickCallback={onBodyBtnClickHandler}/>\r\n            </div>\r\n            <div>\r\n            <div className={classes.wrapGroups}>\r\n            <span>product groups</span>\r\n                <TableGrid datasource = {groups} needBtn={false}/>\r\n            </div>\r\n            <div className={classes.wrapUnits}>\r\n            <span>units</span>\r\n                <TableGrid datasource = {units} needBtn={false}/>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n        )\r\n}\r\n\r\nexport default Backoffice;","import {URL, URL_PATH_PRODUCT, URL_PATH_CHECK, URL_PATH_CASH, CASH_ID} from '../config/server'\r\nimport Axios, {AxiosResponse,AxiosError} from \"axios\";\r\nimport * as RequestStatusActions from './actions-request-status';\r\nexport const SET_CASH_PRODUCTS = \"[cash]-set-products\";\r\nexport const SET_CASH_INFO = \"[cash]-set-info\";\r\nexport const SAVE_CASH_CHECK = \"[cash]-save-check\";\r\nexport const ADD_CASH_DETAIL = \"[cash]-add-detail\";\r\nexport const DELETE_CASH_DETAIL = \"[cash]-del-detail\";\r\nexport const UPDATE_CASH_DETAIL = \"[cash]-update-detail\";\r\nexport const CLEAR_CASH_DETAILS = \"[cash]-clear-details\";\r\nexport function getProducts(){\r\n    return async dispatch => {\r\n        try{\r\n            const prods = await Axios.get(`${URL}/${URL_PATH_PRODUCT}`).then(response => response.data);\r\n            dispatch({type:SET_CASH_PRODUCTS, payload:prods});\r\n        }catch(e){console.error(e);}\r\n    }\r\n}\r\nexport function getCashInfo(){\r\n    return async dispatch => {\r\n        try{\r\n            const cashInfo = await Axios.get(`${URL}/${URL_PATH_CASH}/${CASH_ID}`).then(response => response.data);\r\n            dispatch({type:SET_CASH_INFO, payload:cashInfo?cashInfo:{id:-1,name:`Unknown cash register with CASH_ID=${CASH_ID}`, info:\"\"}});\r\n        }catch(e){console.error(e);}\r\n    }\r\n}\r\nexport function saveCheck(details, checkId, cashId, totalSum){\r\n    return async dispatch => {\r\n        const detailsToCheck = details.map( d => { \r\n            return {\r\n                productDto:{id:d.id},\r\n                quantity:d.quantity,\r\n                price:d.price,\r\n                sum:parseFloat(d.sum)\r\n                }\r\n            } );\r\n        const body = {\r\n            id:String(checkId),\r\n            cash:{\r\n                id:cashId,\r\n            },\r\n            // dateTime:new Date().toJSON(),\r\n            details:detailsToCheck,\r\n            sum:parseFloat(totalSum)\r\n        }\r\n        console.log(body.dateTime);\r\n        // console.log((new Date(body.dateTime)).toLocaleDateString());\r\n        // console.log((new Date(body.dateTime)).toLocaleTime());\r\n        // console.log(new Date());\r\n        // console.log(typeof body.dateTime);\r\n        dispatch(RequestStatusActions.setRequestStatusToSent());\r\n        const response = await Axios.post(`${URL}/${URL_PATH_CHECK}`, body)\r\n            .then(response => {\r\n                const details = []\r\n                dispatch({type:SAVE_CASH_CHECK, payload:details});\r\n                dispatch(RequestStatusActions.setRequestStatusToSucceeded(`${response.data.type}:: ${response.data.payload}`));\r\n                console.log(response.data);\r\n                return response.data;\r\n            })\r\n            .catch(err=>{\r\n                if(err.response){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.response.data));\r\n                    console.log(err.response.data);\r\n                }else if(err.request){\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.request.status));\r\n                    console.log(err.request);\r\n                }else{\r\n                    dispatch(RequestStatusActions.setRequestStatusToFailed(err.message));\r\n                    console.log(err);\r\n                }\r\n            });\r\n    };\r\n}\r\n\r\nexport function clearDetails(){\r\n    return {\r\n        type:CLEAR_CASH_DETAILS,\r\n        payload:[]\r\n    };\r\n}\r\nexport function addDetail(detail){\r\n    return {\r\n        type:ADD_CASH_DETAIL,\r\n        payload:detail\r\n    };\r\n}\r\n\r\nexport function updateDetail(detail, index){\r\n    return {\r\n        type:UPDATE_CASH_DETAIL,\r\n        payload:{detail, index}\r\n    };\r\n}\r\nexport function deleteDetail(index){\r\n    return {\r\n        type:DELETE_CASH_DETAIL,\r\n        payload:index\r\n    };\r\n}\r\n","import  React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from './EditDetail.module.css'\r\nimport './EditDetail.css'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {normalizeQuantity, normalizeStringQuantity} from '../../../utils/utilFunctions';\r\n\r\nconst EditDetail =({detail, index, closeHandler})=>{\r\n    const [quantity, setQuantity]=useState(normalizeStringQuantity(detail.quantity,detail.pieceUnit));\r\n    const [price, setPrice]=useState(detail.price.toFixed(2));\r\n    function okOnClickHandler(){ \r\n        const normQuality = normalizeQuantity(quantity, detail.pieceUnit );\r\n        closeHandler( {...detail, price:Math.floor(parseFloat(price)*100)/100, quantity:normQuality, sum:Math.floor(price*normQuality*100)/100}, index); \r\n    }\r\n    function onQuantityChangeHandler(event){\r\n        setQuantity(event.target.value);\r\n    }\r\n    function onPriceChangeHandler(event){\r\n        setPrice(event.target.value);\r\n    }\r\n    function cancelOnClickHandler(){ closeHandler(); }\r\n    function deleteOnClickHandler(){ \r\n        closeHandler( {}, index); \r\n    }\r\n    return (\r\n        <div className=\"modalBackground\">\r\n            <div className=\"modal\">\r\n                <div className=\"headerWrapper\">\r\n                    <span>{detail.id}</span>\r\n                    <span>{detail.name}</span>\r\n                </div>\r\n                <TextField type=\"number\" required label=\"Quantity\" variant=\"outlined\" value={quantity}\r\n                    onChange={onQuantityChangeHandler} \r\n                    onBlur={(event)=>{if(event.target.value===\"\")setQuantity(0);}}\r\n                    />\r\n                <TextField type=\"number\" required label=\"Price\" variant=\"outlined\" value={price}\r\n                    onChange={onPriceChangeHandler} \r\n                    onBlur={(event)=>{if(event.target.value===\"\")setPrice(0);}}\r\n                    />\r\n                <div className=\"buttonWrapper\">\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={()=>okOnClickHandler()} disableElevation>\r\n                        Ok\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"default\" onClick={()=>cancelOnClickHandler()} disableElevation>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"secondary\" onClick={()=>deleteOnClickHandler()} disableElevation>\r\n                        Delete\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nEditDetail.propTypes = {\r\n    closeHandler:PropTypes.func.isRequired,\r\n    index:PropTypes.number.isRequired,\r\n    detail:PropTypes.shape({\r\n        id:PropTypes.string.isRequired,\r\n        name:PropTypes.string.isRequired,\r\n        price:PropTypes.number.isRequired,\r\n        quantity:PropTypes.number.isRequired,\r\n        sum:PropTypes.number,\r\n        tax:PropTypes.number,\r\n        groupId:PropTypes.string,\r\n        pieceUnit:PropTypes.bool.isRequired\r\n    })\r\n};\r\nexport default EditDetail;","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport classes from './Check.module.css'\r\nimport {normalizeSum,normalizeStringSum,normalizeQuantity, normalizeStringQuantity} from '../../../utils/utilFunctions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function Check({check, details, checkId, closeHandler}){\r\n    const cash = useSelector(state=>state.cash.cashInfo);\r\n    function calculateTax(){\r\n        const totalTaxSum = details.map(v=>v.sum*v.tax/100).reduce((v1,v2)=>v1 + v2);\r\n        return totalTaxSum;\r\n    }\r\n    return (\r\n        <div className={classes.modalWrapper}>\r\n            <div className={classes.modalWindow}>\r\n                <div className={classes.checkWrapper}>\r\n                    <span> {cash.info} </span>\r\n                    <span> Check  {checkId.split('::')[1].split(',')[0]}&nbsp;&nbsp;&nbsp;{checkId.split('::')[1].split(',')[1].substr(0,19).replace('T',' ')}</span>\r\n                    <div className={classes.headerWrapper}>\r\n                        <div className={classes.detailWrapper}>\r\n                            <span className={classes.spanDetailId}>code</span>\r\n                            <span className={classes.spanDetailName}>product name</span>\r\n                            <span className={classes.spanDetailPrice}>price</span>\r\n                            <span className={classes.spanDetailQuantity}>qnty</span>\r\n                            <span className={classes.spanDetailSum}>sum</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.detailsWrapper}>\r\n                        {\r\n                            details.map((v,i)=><div className={classes.detailWrapper} key={i}>\r\n                                <span className={classes.spanDetailId}>{v.id}</span>\r\n                                <span className={classes.spanDetailName}>{v.name}</span>\r\n                                <span className={classes.spanDetailPrice}>{v.price}</span>\r\n                                <span className={classes.spanDetailQuantity}>{v.quantity}</span>\r\n                                <span className={classes.spanDetailSum}>{v.sum}</span>\r\n                                </div>)\r\n                        }\r\n                    </div>\r\n                    <span className={classes.spanTotal}> TOTAL: {normalizeStringSum(check.sum)} </span>\r\n                    <span className={classes.spanVAT}> including VAT: {normalizeStringSum(calculateTax())} </span>\r\n                </div>\r\n\r\n                <Button variant=\"contained\" color=\"primary\" onClick={closeHandler} disableElevation>\r\n                        Close\r\n                    </Button>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React,{ useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from './Cash.module.css';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport * as Actions from '../../../redux/actions-cash';\r\nimport {CASH_ID} from '../../../config/server';\r\nimport EditDetail from './EditDetail';\r\nimport Check from './Check';\r\nimport {setRequestStatusToNone, REQUEST_SENT, REQUEST_SUCCEEDED, REQUEST_FAILED, REQUEST_NONE} from '../../../redux/actions-request-status';\r\nimport {normalizeSum,normalizeStringSum,normalizeQuantity, normalizeStringQuantity} from '../../../utils/utilFunctions';\r\nconst LOCALSTORAGE_KEY = 'cash-info';\r\nconst Cash=()=>{\r\n    const dispatch = useDispatch();\r\n    const [bar, setBar] = useState('');\r\n    function getEmptyProduct(){\r\n        return {\r\n            \"id\":\"\",\r\n            \"name\":\"\",\r\n            \"groupId\":\"\",\r\n            \"unitId\":\"\",\r\n            \"price\":0,\r\n            \"remainder\":0,\r\n            \"tax\":0\r\n        }\r\n    }\r\n    const [product, setProduct] = useState(getEmptyProduct);\r\n    const [quantity, setQuantity] = useState(1.00);\r\n    const [editDetail, setEditDetail] = useState({show:false});\r\n    const [showCheck, setShowCheck] = useState({show:false});\r\n    \r\n    useEffect( ()=>{\r\n        dispatch( Actions.getProducts() );\r\n        dispatch(Actions.getCashInfo());\r\n    }, [] );\r\n    const products = useSelector(state=>state.cash.products);\r\n    const details = useSelector(state=>state.cash.details);\r\n    const cash = useSelector(state=>state.cash.cashInfo);\r\n    const requestStatus = useSelector(state=>state.requestStatus);\r\n    const divRef = useRef(null);\r\n    useEffect(()=>{\r\n        console.log('changed details');\r\n        divRef.current.scrollIntoView(false);\r\n    }, [details]);\r\n    \r\n    function barCodeOnClickHandler(){\r\n        const prod = products.find(v=>v.id===bar);\r\n        if (prod){\r\n            setProduct({...prod});\r\n        }\r\n        setBar('');\r\n    }\r\n\r\n    function addOnClickHandler(productFromScan){\r\n        if (productFromScan || (product  && product.id)){\r\n            const prod = productFromScan ? productFromScan : product;\r\n            const normQuantity = normalizeQuantity(quantity, prod.pieceUnit);\r\n            const detail = {\r\n                id:prod.id,\r\n                name:prod.name,\r\n                price:prod.price,\r\n                quantity:normQuantity,\r\n                unitId:prod.unitId,\r\n                sum:Math.floor(prod.price * normQuantity * 100)/100,\r\n                tax:prod.tax,\r\n                groupId:prod.groupId,\r\n                pieceUnit:prod.pieceUnit\r\n            }\r\n            dispatch(Actions.addDetail(detail));\r\n            setProduct(getEmptyProduct());\r\n        }\r\n        setBar('');\r\n        setQuantity(1);\r\n    }\r\n\r\n    function scanOnClickHandler(){\r\n        if (!products || !products.length){\r\n            return;\r\n        }\r\n        const maxRange = products.length;\r\n        const index = Math.floor(Math.random() * maxRange);\r\n        const randomBar = products[index].id;\r\n        addOnClickHandler({...products[index]});\r\n    }\r\n    function totalOnCancelHandler(){\r\n        if (!details.length){\r\n            return\r\n        }\r\n        dispatch(Actions.clearDetails(  ));\r\n        setProduct(getEmptyProduct());\r\n        setBar('');\r\n        setQuantity(1);\r\n    }\r\n    function totalOnClickHandler(){\r\n        if (!details.length){\r\n            return;\r\n        }\r\n        const totalSum = calcTotal();\r\n        setShowCheck({show:true, check:{sum:totalSum}, details:[...details]});\r\n\r\n        dispatch( Actions.saveCheck( details, 0, CASH_ID, parseFloat( totalSum ) ) );\r\n    }\r\n    function calcTotal(){\r\n        const totalNum = details.map(v=>v.price*v.quantity).reduce((p,c)=>p+=c,0);\r\n        return normalizeSum(totalNum);\r\n    }\r\n    function calcTotalString(){\r\n        const totalNum = details.map(v=>v.price*v.quantity).reduce((p,c)=>p+=c,0);\r\n        return normalizeStringSum(totalNum);\r\n    }\r\n    function onCloseCheckWindow(){\r\n        setShowCheck({show:false});\r\n        dispatch(setRequestStatusToNone());\r\n    }\r\n    const columns = [\r\n        { field: '_n', headerName: '', width: 20},\r\n        { field: 'id', headerName: 'Code/name', width: 120 },\r\n        { field: 'price', headerName: 'Price', width: 70, type: 'number' },\r\n        { field: 'quantity', headerName: 'Quantity', width: 70, type: 'number' },\r\n        { field: 'unitId', headerName: 'Unit', width: 35 },\r\n        { field: '_btn', headerName: '...', width: 45}\r\n      ];\r\n    function editDetailOnClickHandler(detail, index){\r\n        setEditDetail({show:true, detail, index});\r\n    }\r\n    function closeEditDetailHandler(detail, index){\r\n        setEditDetail( {show:false} );\r\n        if( !detail ){\r\n            return;\r\n        }\r\n        if (!detail.id){\r\n            dispatch(Actions.deleteDetail(index));\r\n            return;\r\n            }\r\n        dispatch(Actions.updateDetail(detail, index));\r\n    }\r\n    return  (\r\n        <>\r\n        {editDetail.show ? <EditDetail detail={editDetail.detail} index={editDetail.index} closeHandler={closeEditDetailHandler}/> : <></>}\r\n        {showCheck.show && requestStatus.requestStatus===REQUEST_SUCCEEDED? <Check check={showCheck.check} checkId={requestStatus.infoString} details={showCheck.details} closeHandler={onCloseCheckWindow}/> : <></>}\r\n\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.checkwrapper}>\r\n                <div className={classes.infowrapper}>\r\n                    <span>{cash.name}</span>\r\n                    <span>{cash.info}</span>\r\n                </div>\r\n\r\n                <div className={classes.headerwrapper}>\r\n                    <div className={classes.header}>\r\n                    {\r\n                        columns.map((v,i)=><span key={i} style={{width:`${v.width}px`}}>{v.headerName} </span>) \r\n                    }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.gridwrapper}>\r\n                    {   \r\n                    details.map((v,i)=><div key={i} className={classes.gridrowwrapper}>\r\n                        <span style={{width:`${columns[0].width}px`,textAlign:columns[0].type===\"number\"?\"right\":\"left\"}}>{i+1}</span>\r\n                        <span style={{width:`${columns[1].width}px`,textAlign:columns[1].type===\"number\"?\"right\":\"left\"}}>{v.id}<br/>{v.name}</span>\r\n                        <span style={{width:`${columns[2].width}px`,textAlign:columns[2].type===\"number\"?\"right\":\"left\"}}>{normalizeStringSum(v.price)}</span>\r\n                        <span style={{width:`${columns[3].width}px`,textAlign:columns[3].type===\"number\"?\"right\":\"left\"}}>{normalizeStringQuantity(v.quantity,v.pieceUnit)}</span>\r\n                        <span style={{width:`${columns[4].width}px`,textAlign:columns[4].type===\"number\"?\"right\":\"center\"}}>{v.unitId}</span>\r\n                        <button style={{width:`${columns[5].width}px`}} onClick={()=>editDetailOnClickHandler(v,i)}>...</button>\r\n                    </div>)\r\n                    }\r\n                    <div ref={divRef}></div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.controlwrapper}>\r\n                <div className={classes.inputwrapper}>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={()=>scanOnClickHandler()} disableElevation>\r\n                        SCAN\r\n                    </Button>\r\n                    <div className={classes.productinfo}>\r\n                        {\r\n                            (product && product.id) ? <>{product.id}  <br/> {product.name} {(product.price).toFixed(2)} {product.tax}%</>:<></>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.inputwrapper}>\r\n                    <TextField id=\"inputBarcode\" label=\"Barcode\" variant=\"outlined\" value={bar}\r\n                        onChange={(event)=>setBar(event.target.value)} />\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={()=>barCodeOnClickHandler()} disableElevation>\r\n                        Find\r\n                    </Button>\r\n                    <TextField type=\"number\" style={{width:\"120px\"}} id=\"inputQuantity\" label=\"Quantity\" variant=\"outlined\" value={quantity}\r\n                        onChange={(event)=>setQuantity(event.target.value)} />\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={()=>addOnClickHandler()} disableElevation>\r\n                        ADD\r\n                    </Button>\r\n                </div>\r\n                <div style={{display:\"flex\"}}>\r\n                <div className={classes.totalwrapper}>\r\n                    <span>TOTAL</span>\r\n                    <span>{calcTotalString()} </span>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={()=>totalOnClickHandler()} disableElevation>\r\n                        PAY CHECK\r\n                    </Button>\r\n                </div> \r\n                <div className={classes.cancelwrapper}>\r\n                    <Button variant=\"contained\" color=\"secondary\" onClick={()=>totalOnCancelHandler()} disableElevation>\r\n                        Clear check\r\n                    </Button>\r\n                </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        </>\r\n    )  \r\n            \r\n}\r\n\r\nexport default Cash;","import {URL, URL_PATH_REPORT_SALES,URL_PATH_REPORT_GROUP_SALES} from '../config/server';\r\nimport * as RequestStatusActions from './actions-request-status';\r\nimport axios from 'axios';\r\n\r\nexport const SET_REPORT_SALES_DATA='[reports] set sales data';\r\nexport const SET_REPORT_GROUP_SALES_DATA='[reports] set group sales data';\r\nexport const SET_DATE_FROM='[reports] set start date';\r\nexport const SET_DATE_TO='[reports] set finish date';\r\n\r\nexport function getSalesReportData(from, to){\r\n    return async (dispatch)=>{\r\n        try{\r\n            dispatch(RequestStatusActions.setRequestStatusToSent());\r\n            const salesReportData = await axios.get(`${URL}/${URL_PATH_REPORT_SALES}?from=${from}&to=${to}`)\r\n                .then(response=>response.data);\r\n            dispatch({type:SET_REPORT_SALES_DATA, payload:salesReportData});\r\n            dispatch(RequestStatusActions.setRequestStatusToSucceeded());\r\n        }catch(e){\r\n            dispatch(RequestStatusActions.setRequestStatusToFailed(e.message));\r\n            console.dir(e);\r\n        }\r\n\r\n    }\r\n}\r\nexport function getGroupSalesReportData(from, to){\r\n    return async (dispatch)=>{\r\n        try{\r\n            const salesReportData = await axios.get(`${URL}/${URL_PATH_REPORT_GROUP_SALES}?from=${from}&to=${to}`)\r\n                .then(response=>response.data);\r\n            dispatch({type:SET_REPORT_GROUP_SALES_DATA, payload:salesReportData});\r\n        }catch(e){\r\n            console.log('ERROR',e);\r\n        }\r\n\r\n    }\r\n}\r\nexport function setDateFrom(from){\r\n    return {type:SET_DATE_FROM, payload:from};\r\n}\r\nexport function setDateTo(to){\r\n    return {type:SET_DATE_TO, payload:to};\r\n}","import React,{useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport * as Actions from '../../../redux/actions-report';\r\nimport * as RequestStatusActions from '../../../redux/actions-request-status';\r\nimport { Chart } from 'react-charts';\r\nimport {normalizeSum,normalizeStringSum,normalizeQuantity, normalizeStringQuantity} from '../../../utils/utilFunctions';\r\nfunction getData(chartData){\r\n    const data = [...chartData];\r\n    return data.map(d=>{return {x:d.stringDate,y:d.sum}});\r\n} \r\n\r\nfunction MyChart(chartData) {\r\n    const data = [\r\n        {\r\n          label: 'Series 1', \r\n          data:getData(chartData) \r\n        }\r\n      ]\r\n   \r\n    const axes = [\r\n        { primary: true, type: 'ordinal', position: 'bottom' },\r\n        { type: 'linear', position: 'left' }\r\n      ]\r\n   \r\n    return (\r\n        <Chart data={data} axes={axes} />\r\n    )\r\n  }\r\n\r\n\r\n\r\n\r\nconst Report=()=>{\r\n    const dispatch = useDispatch();\r\n    const salesChartData = useSelector(state=>state.report.sales);\r\n    const groupSalesData = useSelector(state=>state.report.groupSales);\r\n    const requestStatus = useSelector(state=>state.requestStatus);\r\n    const from = useSelector(state=>state.report.from);\r\n    const to = useSelector(state=>state.report.to);\r\n    useEffect(()=>{dispatch(Actions.getSalesReportData(from,to)); dispatch(Actions.getGroupSalesReportData(from,to));},[])\r\n    return  <div style={{marginTop:\"20px\"}}>\r\n        <h3 style={{margin:\"10px 0\",backgroundColor:\"navy\",color:\"white\"}}>Sales report</h3>\r\n        <label >From <input type = \"date\" onChange={(e)=>dispatch(Actions.setDateFrom(e.target.value))} value={from}/></label>\r\n        <label > to <input type = \"date\" onChange={(e)=>dispatch(Actions.setDateTo(e.target.value))} value={to}/></label>\r\n        <button onClick={()=>{dispatch(Actions.getSalesReportData(from,to)); dispatch(Actions.getGroupSalesReportData(from,to));}}>Report</button>\r\n        {\r\n\r\nrequestStatus.requestStatus===RequestStatusActions.REQUEST_SENT ? \r\n<div style={{display:\"flex\", width: '80vw',height: '30vh', justifyContent:\"center\", alignItems:\"center\"}}>\r\n  <CircularProgress />\r\n</div>\r\n:\r\nrequestStatus.requestStatus===RequestStatusActions.REQUEST_FAILED ?\r\n<div style={{display:\"flex\", width: '80vw',height: '30vh', justifyContent:\"center\", alignItems:\"center\"}}>\r\n   <span>{requestStatus.infoString}</span>\r\n</div>\r\n:\r\n          <div style={{width: '80vw',height: '30vh'}}>\r\n             { MyChart(salesChartData)}\r\n          </div>\r\n        }\r\n        <h3 style={{margin:\"10px 0\",backgroundColor:\"navy\",color:\"white\"}}>\r\n            TOTAL : \r\n            {normalizeStringSum(groupSalesData.map(gr=>gr.data.map(d=>d.sum).reduce((p,c)=>p+c, 0)).reduce((p,c)=>p+c, 0))}\r\n        </h3>\r\n        <ol>\r\n        {\r\n            groupSalesData.map((gr, i)=>(\r\n                <li key={i}>\r\n                    {gr.groupName}. <b>({normalizeStringSum(gr.data.map(d=>d.sum).reduce((p,c)=>p+c, 0))})</b>\r\n                    <ul>\r\n                        {gr.data.map((d,i)=><li key={gr.groupId+i}><span>{d.stringDate}</span> &nbsp;&nbsp; <span style={{color:\"darkgreen\"}}>{normalizeStringSum(d.sum)}</span></li>)}\r\n                    </ul>\r\n                </li>\r\n            ))\r\n        }\r\n        </ol>\r\n    </div>\r\n}\r\n\r\nexport default Report;\r\n","import React from 'react';\r\nimport * as Menu from '../../../config/menu'\r\nimport classes from './Retail.module.css';\r\nconst Retail=({history})=>{\r\n    return(\r\n        <div className={classes.wrapper}>\r\n            <h2>Retail Demo Application</h2>\r\n            <button className={`${classes.mrgntop30px} ${classes.cursorPointer}`}\r\n            onClick = {()=>history.push(Menu.PATH_CASH)}\r\n            >POS</button>\r\n            <p>\r\n                The POS tab emulates a POS terminal and allows you to make sales of goods. \r\n                Pressing the SCAN button simulates the reading of the product by a barcode scanner. \r\n                In this case, the goods are selected in random order. \r\n                You can change the quantity and price of a product by clicking the \"...\" button \r\n                in the product line. \r\n                You can also manually enter the desired barcode and immediately indicate \r\n                the required quantity of goods. \r\n                The generated check can be paid by pressing \"PAY CHECK\" or canceled by \r\n                pressing \"CLEAR CHECK\".\r\n\r\n            </p>\r\n            <button className={`${classes.mrgntop30px} ${classes.cursorPointer}`}\r\n            onClick = {()=>history.push(Menu.PATH_BACKOFFICE)}\r\n            >BackOffice</button>\r\n            <p>\r\n                The BackOffice tab allows you to search, view, add, modify and delete goods. \r\n                Also, there you can see what groups of goods and units of measurement of goods are.\r\n            </p>\r\n            <button className={`${classes.mrgntop30px} ${classes.cursorPointer}`}\r\n            onClick = {()=>history.push(Menu.PATH_REPORTS)}\r\n            >Reports</button>\r\n            <p>\r\n                On the REPORTS tab it is possible to see sales by day in the form of a chart and \r\n                in the form of a report of sales by groups and dates within a certain period.\r\n            </p>\r\n            <h4 className={classes.mrgntop30px}>Backend part</h4>\r\n            <p>\r\n                The backend part was implemented in Java using Spring Web and Spring Data JPA. H2 is used as a database.\r\n                <br/>\r\n                GitHub: <a href=\"https://github.com/d-y-frolov/retail-backend\" target=\"_blank\">https://github.com/d-y-frolov/retail-backend</a>\r\n            </p>\r\n            <h4 className={classes.mrgntop30px}>Frontend part</h4>\r\n            <p>\r\n                The frontend part is made in Javascript as a single page application using React. \r\n                Redux is used as a centralized store.\r\n                <br/>\r\n                GitHub: <a href=\"https://github.com/d-y-frolov/retail-frontend\" target=\"_blank\">https://github.com/d-y-frolov/retail-frontend</a>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Retail;","import './App.css';\r\nimport {BrowserRouter, Link,Router,Redirect,Route,Switch} from 'react-router-dom';\r\nimport Navigator from './components/library/Navigator';\r\nimport {PATH_CASH,PATH_BACKOFFICE,PATH_REPORTS,PATH_RETAIL} from './config/menu';\r\nimport Backoffice from './components/pages/backoffice/Backoffice';\r\nimport Cash from './components/pages/cash/Cash';\r\nimport Report from './components/pages/report/Report';\r\nimport Retail from './components/pages/retail/Retail';\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Navigator/>\r\n      <Switch>\r\n        <Route path={PATH_CASH} exact component={Cash}/>\r\n        <Route path={PATH_BACKOFFICE} exact component={Backoffice}/>\r\n        <Route path={PATH_REPORTS} exact component={Report}/>\r\n        <Route path={PATH_RETAIL} exact component={Retail}/>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {SET_CASH_PRODUCTS,ADD_CASH_DETAIL,UPDATE_CASH_DETAIL,DELETE_CASH_DETAIL,\r\n    CLEAR_CASH_DETAILS,SAVE_CASH_CHECK,SET_CASH_INFO} from './actions-cash';\r\nconst initState={\r\n    cashInfo:{},\r\n    details:[],\r\n    products:[]\r\n}\r\nexport function reducerCash(cashState=initState, action){    \r\n    switch(action.type){\r\n        case SET_CASH_INFO:\r\n            return {details:cashState.details, products:cashState.products, cashInfo:\r\n                action.payload}\r\n        case SET_CASH_PRODUCTS: \r\n            return {details:cashState.details, products: action.payload.slice(0), cashInfo:cashState.cashInfo};\r\n        case ADD_CASH_DETAIL:\r\n            return {details:[...cashState.details, action.payload], products:cashState.products, cashInfo:cashState.cashInfo} ;\r\n        case UPDATE_CASH_DETAIL:{\r\n            const newDetails = [...cashState.details];\r\n            newDetails[action.payload.index] = {...action.payload.detail};\r\n            return {details:newDetails,  products:cashState.products, cashInfo:cashState.cashInfo};}\r\n        case DELETE_CASH_DETAIL:{\r\n            const newDetails = [...cashState.details];\r\n            newDetails.splice(action.payload,1);\r\n            return {details:newDetails,  products:cashState.products, cashInfo:cashState.cashInfo};}\r\n        case SAVE_CASH_CHECK:\r\n            return {details:action.payload,  products:cashState.products, cashInfo:cashState.cashInfo};\r\n        case CLEAR_CASH_DETAILS:\r\n            return {...cashState, details:action.payload};\r\n    }\r\n    return cashState;\r\n}","import {SET_BACKOFFICE_PRODUCTS, ADD_PRODUCT, UPDATE_PRODUCT, REMOVE_PRODUCT, \r\n        SET_BACKOFFICE_CASHES,SET_BACKOFFICE_GROUPS,SET_BACKOFFICE_UNITS,\r\n        SET_BACKOFFICE_CHECKS} from './actions-backoffice';\r\nconst initState = {\r\n    products: [],\r\n    cashes: [],\r\n    groups:[],\r\n    units:[],\r\n    checks:[]\r\n}\r\nexport function reducerBackoffice(state = initState, action){\r\n    switch(action.type){\r\n        case SET_BACKOFFICE_PRODUCTS:\r\n            return {...state, products:action.payload};\r\n        case ADD_PRODUCT:\r\n            return {...state, products:[action.payload, ...state.products]};\r\n        case UPDATE_PRODUCT:{\r\n            const updatedProduct = action.payload;\r\n            const index = state.products.findIndex(v=>v.id===updatedProduct.id);\r\n            const newProducts=[...state.products];\r\n            newProducts.splice(index,1,updatedProduct);\r\n            return {...state, products:newProducts};}\r\n        case REMOVE_PRODUCT:{\r\n            const removedProductId = action.payload;\r\n            const index = state.products.findIndex(v=>v.id===removedProductId);\r\n            const newProducts=[...state.products];\r\n            newProducts.splice(index,1);\r\n            return {...state, products:newProducts};}\r\n        case SET_BACKOFFICE_CASHES:\r\n            return {...state, cashes:action.payload};\r\n        case SET_BACKOFFICE_GROUPS:\r\n            return {...state, groups:action.payload};\r\n        case SET_BACKOFFICE_UNITS:\r\n            return {...state, units:action.payload};\r\n        case SET_BACKOFFICE_CHECKS:\r\n            return {...state, checks:action.payload};\r\n        default: \r\n        return state;\r\n    }\r\n}\r\n\r\n","import { Switch } from 'react-router-dom';\r\nimport {SET_REPORT_SALES_DATA,SET_REPORT_GROUP_SALES_DATA, SET_DATE_FROM, SET_DATE_TO} from './actions-report';\r\nconst initState = {\r\n    sales : [],\r\n    groupSales : [],\r\n    from: (()=>{const fromDate=new Date(); fromDate.setMonth(fromDate.getMonth() - 1); return fromDate.toISOString().substr(0,10)})(),\r\n    to: new Date().toISOString().substr(0,10)\r\n}\r\nexport function reducerReport(state=initState, actions){\r\n    switch(actions.type){\r\n        case SET_REPORT_SALES_DATA: \r\n                return {...state, sales:actions.payload};\r\n        case SET_REPORT_GROUP_SALES_DATA: \r\n                return {...state, groupSales:actions.payload};\r\n        case SET_DATE_FROM: \r\n                return {...state, from:actions.payload};\r\n        case SET_DATE_TO: \r\n                return {...state, to:actions.payload};\r\n        default:return state;\r\n    }\r\n}","import {REQUEST_SENT, REQUEST_SUCCEEDED, REQUEST_FAILED, REQUEST_NONE} from './actions-request-status';\r\nconst initState = {\r\n    requestStatus: REQUEST_NONE,\r\n    infoString:\"\"\r\n}\r\nexport function reducerRequestStatus(state = initState, action){\r\n    switch (action.type){\r\n        case REQUEST_SENT:\r\n            return {\r\n            requestStatus:REQUEST_SENT, \r\n            infoString: action.payload?action.payload:\"\"};\r\n        case REQUEST_SUCCEEDED:\r\n            return {\r\n            requestStatus:REQUEST_SUCCEEDED, \r\n            infoString: action.payload?action.payload:\"\"};\r\n        case REQUEST_FAILED:\r\n            return {\r\n            requestStatus:REQUEST_FAILED, \r\n            infoString: action.payload?action.payload:\"\"};\r\n        case REQUEST_NONE:\r\n            return {\r\n            requestStatus:REQUEST_NONE, \r\n            infoString: action.payload?action.payload:\"\"};\r\n        default:return state;\r\n        }\r\n}","import {reducerCash} from './reducer-cash';\r\nimport {reducerBackoffice} from './reducer-backoffice';\r\nimport {reducerReport} from './reducer-report';\r\nimport {reducerRequestStatus} from './reducer-request-status';\r\nimport {createStore, applyMiddleware, combineReducers} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\n\r\nconst reducers = combineReducers({\r\n    cash : reducerCash,\r\n    backoffice : reducerBackoffice,\r\n    report : reducerReport,\r\n    requestStatus : reducerRequestStatus\r\n});\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunk));\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from './redux/store'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalWrapper\":\"Check_modalWrapper__32Jpt\",\"modalWindow\":\"Check_modalWindow__2AF5-\",\"checkWrapper\":\"Check_checkWrapper__2afO2\",\"headerWrapper\":\"Check_headerWrapper__2mS5Q\",\"detailsWrapper\":\"Check_detailsWrapper__F7vsh\",\"detailWrapper\":\"Check_detailWrapper__w7yDR\",\"spanDetailId\":\"Check_spanDetailId__3OWxc\",\"spanDetailName\":\"Check_spanDetailName__3-QtK\",\"spanDetailPrice\":\"Check_spanDetailPrice__1vjhq\",\"spanDetailQuantity\":\"Check_spanDetailQuantity__S8RU1\",\"spanDetailSum\":\"Check_spanDetailSum__1Fs9r\",\"spanTotal\":\"Check_spanTotal__1eDEc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Cash_wrapper__4hKGu\",\"infowrapper\":\"Cash_infowrapper__3Sr8A\",\"inputwrapper\":\"Cash_inputwrapper__2vcUu\",\"gridwrapper\":\"Cash_gridwrapper__30Ovg\",\"gridrowwrapper\":\"Cash_gridrowwrapper__3p87q\",\"header\":\"Cash_header__3FjJz\",\"headerwrapper\":\"Cash_headerwrapper__3Ep9B\",\"totalwrapper\":\"Cash_totalwrapper__2LIFw\",\"cancelwrapper\":\"Cash_cancelwrapper__2bUGH\",\"productinfo\":\"Cash_productinfo__-EFAM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TableGrid_wrapper__1NRNu\",\"header\":\"TableGrid_header__31tYR\",\"headerItem\":\"TableGrid_headerItem__sgaOF\",\"headerBtn\":\"TableGrid_headerBtn__3QZQW\",\"body\":\"TableGrid_body__3iYUO\",\"bodyLine\":\"TableGrid_bodyLine__3EtDB\",\"bodyBtn\":\"TableGrid_bodyBtn__1phiV\",\"bodyItem\":\"TableGrid_bodyItem__2wdU-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Retail_wrapper__o36Jq\",\"mrgntop30px\":\"Retail_mrgntop30px__1muk4\",\"cursorPointer\":\"Retail_cursorPointer__1TVhA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapBackoffice\":\"Backoffice_wrapBackoffice__2eXYO\",\"wrapProducts\":\"Backoffice_wrapProducts__2MnIw\",\"wrapProductsControl\":\"Backoffice_wrapProductsControl__ghY5c\",\"wrapGroups\":\"Backoffice_wrapGroups__1KdNX\",\"wrapUnits\":\"Backoffice_wrapUnits__1veh_\",\"wrapCashes\":\"Backoffice_wrapCashes__1hC48\",\"wrapChecks\":\"Backoffice_wrapChecks__1m2oY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackground\":\"ProductDetail_modalBackground__rBMA_\",\"modal\":\"ProductDetail_modal__2mdtm\",\"headerWrapper\":\"ProductDetail_headerWrapper___7hnB\",\"inputWrapper\":\"ProductDetail_inputWrapper__2nET7\",\"buttonWrapper\":\"ProductDetail_buttonWrapper__3TDD-\"};"],"sourceRoot":""}